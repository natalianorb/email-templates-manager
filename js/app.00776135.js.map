{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/pages/MessageEdit.vue?53dc","webpack:///./src/pages/Categories.vue?33af","webpack:///./src/pages/CategoryEdit.vue?2f78","webpack:///./src/components/MessageView.vue?5025","webpack:///./src/components/Filters.vue?3c25","webpack:///./src/pages/Messages.vue?e594","webpack:///./src/components/SearchSelect.vue?37d1","webpack:///./src/App.vue?6141","webpack:///src/App.vue","webpack:///./src/App.vue?b65f","webpack:///./src/App.vue","webpack:///./src/classes/Base.js","webpack:///./src/env.js","webpack:///./src/classes/Category.js","webpack:///./src/store.js","webpack:///./src/pages/Categories.vue?1f1e","webpack:///./src/components/CategoriesTable.vue?e5f9","webpack:///src/components/CategoriesTable.vue","webpack:///./src/components/CategoriesTable.vue?9d61","webpack:///./src/components/CategoriesTable.vue","webpack:///./src/components/Filters.vue?daea","webpack:///src/components/Filters.vue","webpack:///./src/components/Filters.vue?4961","webpack:///./src/components/Filters.vue","webpack:///./src/utils.js","webpack:///src/pages/Categories.vue","webpack:///./src/pages/Categories.vue?7e03","webpack:///./src/pages/Categories.vue","webpack:///./src/pages/CategoryEdit.vue?a2d9","webpack:///./src/components/SearchSelect.vue?545e","webpack:///src/components/SearchSelect.vue","webpack:///./src/components/SearchSelect.vue?9d28","webpack:///./src/components/SearchSelect.vue","webpack:///./src/mixins/searchCategory.js","webpack:///src/pages/CategoryEdit.vue","webpack:///./src/pages/CategoryEdit.vue?292b","webpack:///./src/pages/CategoryEdit.vue","webpack:///./src/pages/Messages.vue?d2d0","webpack:///./src/components/MessageView.vue?32bf","webpack:///src/components/MessageView.vue","webpack:///./src/components/MessageView.vue?6bcc","webpack:///./src/components/MessageView.vue","webpack:///./src/classes/Message.js","webpack:///src/pages/Messages.vue","webpack:///./src/pages/Messages.vue?b0f8","webpack:///./src/pages/Messages.vue","webpack:///./src/pages/MessageEdit.vue?1d83","webpack:///src/pages/MessageEdit.vue","webpack:///./src/pages/MessageEdit.vue?cffe","webpack:///./src/pages/MessageEdit.vue","webpack:///./src/router.js","webpack:///./src/main.js","webpack:///./src/App.vue?e96d","webpack:///./src/components/CategoriesTable.vue?549e"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","render","_vm","this","_h","$createElement","_c","_self","attrs","staticRenderFns","component","Base","props","id","title","baseUrl","fields","capitalize","string","charAt","toUpperCase","parent","children","messages","super","Set","a","post","jsonrpc","method","params","then","res","conditions","Promise","reject","Error","options","perPage","page","operator","operand_1","toLowerCase","operand_2","use","Store","state","category","mutations","payload","actions","commit","staticClass","_v","parentTitle","messagesCount","on","$event","filteredCategories","sortBy","ascending","goEditCategory","showCategory","setSorting","directives","rawName","expression","totalPages","getPage","model","callback","$$v","class","sorted","$emit","_l","onSelect","_s","_e","size","categories","type","Array","String","default","Boolean","methods","domProps","onInputTitle","onInputParent","onInputCount","maxTitleLength","Number","maxParentLength","hasCounter","e","trimmed","target","trim","deepFind","obj","path","paths","split","current","compareBy","b","first","second","toString","components","CategoriesTable","Filters","Paginate","computed","normalizedTitle","normalizedParent","filter","includes","sort","getCategories","$router","hasParents","map","forEach","find","cat","index","findIndex","$set","assign","setCategory","isEditing","composing","visible","$v","$invalid","parents","onBlur","onSelectParent","parentError","scopedSlots","_u","fn","slotProps","option","saveDisabled","stopPropagation","debouncedSave","isModalVisible","onCancel","isSecondConfirmVisible","slot","debouncedDelete","doubleCheck","label","placeholder","searchingValue","showDropdown","onInput","filteredOptions","closeDropdown","isScrolling","select","_t","prop","event","searchingProp","required","maxLength","rules","selected","searchString","validate","setTimeout","init","debouncedsearchParent","searchParent","val","mixins","searchCategory","SearchSelect","SimpleModal","watch","deep","newVal","oldVal","initializeCategory","saveCategory","deleteCategory","getById","getParent","getChildren","showNextConfirm","delete","go","all","clientData","savingData","update","newCategory","primaryKey","replace","getByTitle","message","tag","body","isChangeDisabled","categoryId","MessageView","getCategoryMessages","getMessages","getMessagesOf","categoriesIds","saveMessage","deleteMessage","routes","Categories","Messages","CategoryEdit","MessageEdit","config","productionTip","store","router","h","App","$mount"],"mappings":"aACE,SAASA,EAAqBC,GAQ7B,IAPA,IAMIC,EAAUC,EANVC,EAAWH,EAAK,GAChBI,EAAcJ,EAAK,GACnBK,EAAiBL,EAAK,GAIHM,EAAI,EAAGC,EAAW,GACpCD,EAAIH,EAASK,OAAQF,IACzBJ,EAAUC,EAASG,GAChBG,OAAOC,UAAUC,eAAeC,KAAKC,EAAiBX,IAAYW,EAAgBX,IACpFK,EAASO,KAAKD,EAAgBX,GAAS,IAExCW,EAAgBX,GAAW,EAE5B,IAAID,KAAYG,EACZK,OAAOC,UAAUC,eAAeC,KAAKR,EAAaH,KACpDc,EAAQd,GAAYG,EAAYH,IAG/Be,GAAqBA,EAAoBhB,GAE5C,MAAMO,EAASC,OACdD,EAASU,OAATV,GAOD,OAHAW,EAAgBJ,KAAKK,MAAMD,EAAiBb,GAAkB,IAGvDe,IAER,SAASA,IAER,IADA,IAAIC,EACIf,EAAI,EAAGA,EAAIY,EAAgBV,OAAQF,IAAK,CAG/C,IAFA,IAAIgB,EAAiBJ,EAAgBZ,GACjCiB,GAAY,EACRC,EAAI,EAAGA,EAAIF,EAAed,OAAQgB,IAAK,CAC9C,IAAIC,EAAQH,EAAeE,GACG,IAA3BX,EAAgBY,KAAcF,GAAY,GAE3CA,IACFL,EAAgBQ,OAAOpB,IAAK,GAC5Be,EAASM,EAAoBA,EAAoBC,EAAIN,EAAe,KAItE,OAAOD,EAIR,IAAIQ,EAAmB,GAKnBhB,EAAkB,CACrB,IAAO,GAGJK,EAAkB,GAGtB,SAASS,EAAoB1B,GAG5B,GAAG4B,EAAiB5B,GACnB,OAAO4B,EAAiB5B,GAAU6B,QAGnC,IAAIC,EAASF,EAAiB5B,GAAY,CACzCK,EAAGL,EACH+B,GAAG,EACHF,QAAS,IAUV,OANAf,EAAQd,GAAUW,KAAKmB,EAAOD,QAASC,EAAQA,EAAOD,QAASH,GAG/DI,EAAOC,GAAI,EAGJD,EAAOD,QAKfH,EAAoBM,EAAIlB,EAGxBY,EAAoBO,EAAIL,EAGxBF,EAAoBQ,EAAI,SAASL,EAASM,EAAMC,GAC3CV,EAAoBW,EAAER,EAASM,IAClC3B,OAAO8B,eAAeT,EAASM,EAAM,CAAEI,YAAY,EAAMC,IAAKJ,KAKhEV,EAAoBe,EAAI,SAASZ,GACX,qBAAXa,QAA0BA,OAAOC,aAC1CnC,OAAO8B,eAAeT,EAASa,OAAOC,YAAa,CAAEC,MAAO,WAE7DpC,OAAO8B,eAAeT,EAAS,aAAc,CAAEe,OAAO,KAQvDlB,EAAoBmB,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQlB,EAAoBkB,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,kBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAKxC,OAAOyC,OAAO,MAGvB,GAFAvB,EAAoBe,EAAEO,GACtBxC,OAAO8B,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOlB,EAAoBQ,EAAEc,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIRtB,EAAoB0B,EAAI,SAAStB,GAChC,IAAIM,EAASN,GAAUA,EAAOiB,WAC7B,WAAwB,OAAOjB,EAAO,YACtC,WAA8B,OAAOA,GAEtC,OADAJ,EAAoBQ,EAAEE,EAAQ,IAAKA,GAC5BA,GAIRV,EAAoBW,EAAI,SAASgB,EAAQC,GAAY,OAAO9C,OAAOC,UAAUC,eAAeC,KAAK0C,EAAQC,IAGzG5B,EAAoB6B,EAAI,4BAExB,IAAIC,EAAaC,OAAO,gBAAkBA,OAAO,iBAAmB,GAChEC,EAAmBF,EAAW3C,KAAKsC,KAAKK,GAC5CA,EAAW3C,KAAOf,EAClB0D,EAAaA,EAAWG,QACxB,IAAI,IAAItD,EAAI,EAAGA,EAAImD,EAAWjD,OAAQF,IAAKP,EAAqB0D,EAAWnD,IAC3E,IAAIU,EAAsB2C,EAI1BzC,EAAgBJ,KAAK,CAAC,EAAE,kBAEjBM,K,sJCvJT,yBAAyiB,EAAG,G,oCCA5iB,yBAAwiB,EAAG,G,2DCA3iB,yBAAkhB,EAAG,G,oCCArhB,yBAAyiB,EAAG,G,kCCA5iB,yBAAqiB,EAAG,G,oCCAxiB,yBAAsiB,EAAG,G,oCCAziB,yBAAkhB,EAAG,G,gFCAjhByC,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,MAAM,CAAC,GAAK,QAAQ,CAACF,EAAG,gBAAgB,IAC9IG,EAAkB,GCMP,GACbjC,KAAM,OCR8K,I,wBCQlLkC,EAAY,eACd,EACAT,EACAQ,GACA,EACA,KACA,KACA,MAIa,EAAAC,E,yCCnBf,MAAMC,EACJ,YAAYC,EAAQ,CAAEC,GAAI,GAAIC,MAAO,KACnC,MAAM,GAAED,EAAE,MAAEC,GAAUF,EACtBT,KAAKU,GAAKA,EACVV,KAAKW,MAAQA,GAIF,QCPR,MAAMC,EAAU,gDCGjBC,EAAS,CAAC,KAAM,QAAS,SAAU,WAAY,YAC/CC,EAAaC,GAAUA,EAAOC,OAAO,GAAGC,cAAgBF,EAAOlB,MAAM,GAE3E,MAAM,UAAiB,EACrB,YAAYY,EAAQ,CAClBC,GAAI,GAAIC,MAAO,GAAIO,OAAQ,GAAIC,SAAU,GAAIC,SAAU,KAEvDC,MAAMZ,GACNT,KAAKkB,OAAST,EAAMS,QAAU,KAC9BlB,KAAKmB,SAAW,IAAIG,IAAIb,EAAMU,UAC9BnB,KAAKoB,SAAW,IAAIE,IAAIb,EAAMW,UAIhC,OAAOnF,GACL,OAAO,EAAAsF,EACJC,KAAKZ,EAAS,CACba,QAAS,MACTC,OAAQ,iBACRhB,GAAI,OACJiB,OAAQ,CACN1F,UAGH2F,KAAKC,GAAOA,EAAI5F,MAAQ4F,EAAI5F,KAAKqB,QAGtC,SACE,OAAO,EAAAiE,EACJC,KAAKZ,EAAS,CACba,QAAS,MACTC,OAAQ,iBACRhB,GAAI,OACJiB,OAAQ,CACNG,WAAY,CAAC,KAAM,IAAK9B,KAAKU,OAGhCkB,KAAKC,GAAOA,EAAI5F,MAAQ4F,EAAI5F,KAAKqB,QAItC,OAAOrB,GACL,MAAM,GAAEyE,GAAOzE,EAEf,OAAKyE,EAGE,EAAAa,EACJC,KAAKZ,EAAS,CACba,QAAS,MACTC,OAAQ,iBACRhB,GAAI,OACJiB,OAAQ,CACNG,WAAY,CAAC,KAAM,IAAK7F,EAAKyE,IAC7BzE,UAGH2F,KAAKC,GAAOA,EAAI5F,MAAQ4F,EAAI5F,KAAKqB,QAZ3ByE,QAAQC,OAAO,IAAIC,MAAM,qBAepC,eAAeC,EAAU,IACvB,MAAM,GAAExB,GAAOwB,EAEf,OAAKxB,EAGE,EAAAa,EACJC,KAAKZ,EAAS,CACba,QAAS,MACTC,OAAQ,eACRhB,GAAI,OACJiB,OAAQ,CACNG,WAAY,CAAC,KAAM,IAAKpB,GACxBG,YAGHe,KAAKC,GAAOA,EAAI5F,MAAQ4F,EAAI5F,KAAKqB,QAAUuE,EAAI5F,KAAKqB,OAAOrB,MAAQ4F,EAAI5F,KAAKqB,OAAOrB,KAAK,IAZlF8F,QAAQC,OAAO,IAAIC,MAAM,wBAepC,mBAAkB,QAAEE,EAAU,GAAE,MAAExB,EAAK,KAAEyB,IACvC,OAAKzB,EAGE,EAAAY,EACJC,KAAKZ,EAAS,CACba,QAAS,MACTC,OAAQ,eACRhB,GAAI,OACJiB,OAAQ,CACNG,WAAY,CACVO,SAAU,KACVC,UAAW,CACTD,SAAU,KACVC,UAAW,CAAC,QAAS,UAAW3B,EAAM4B,kBACtCC,UAAW,CAAC,QAAS,UAAW7B,EAAMM,mBAExCuB,UAAW,CAAC,QAAS,UAAW1B,EAAWH,QAE7CyB,OACAD,UACAtB,YAGHe,KAAKC,GAAOA,EAAI5F,MAAQ4F,EAAI5F,KAAKqB,QAAUuE,EAAI5F,KAAKqB,OAAOrB,MAAQ4F,EAAI5F,KAAKqB,OAAOrB,MAtB7E8F,QAAQC,OAAO,IAAIC,MAAM,8BAyBpC,YAAW,QAAEE,EAAU,GAAE,KAAEC,EAAI,WAAEN,EAAa,CAAC,KAAM,iBACnD,OAAO,EAAAP,EACJC,KAAKZ,EAAS,CACba,QAAS,MACTC,OAAQ,eACRhB,GAAI,OACJiB,OAAQ,CACNG,aACAM,OACAD,UACAtB,YAGHe,KAAKC,GAAOA,EAAI5F,MAAQ4F,EAAI5F,KAAKqB,SAIzB,QC3Hf,OAAImF,IAAI,QAEO,UAAI,OAAKC,MAAM,CAC5BC,MAAO,CACLC,SAAU,IAEZC,UAAW,CACT,aAAaF,EAAOG,GAClBH,EAAMC,SAAW,IAAI,EAASE,KAGlCC,QAAS,CACP,aAAY,OAAEC,GAAUJ,GACtBI,EAAO,eAAgBJ,O,YCjBzB,EAAS,WAAa,IAAI7C,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAAC8C,YAAY,wBAAwB,CAAC9C,EAAG,KAAK,CAACJ,EAAImD,GAAG,eAAe/C,EAAG,MAAM,CAAC8C,YAAY,UAAU,CAAC9C,EAAG,cAAc,CAACE,MAAM,CAAC,GAAK,CAAEhC,KAAM,cAAe,CAAC0B,EAAImD,GAAG,kBAAkB/C,EAAG,cAAc,CAACE,MAAM,CAAC,GAAK,CAAEhC,KAAM,eAAgBsD,OAAQ,CAAEjB,GAAI,QAAU,CAACX,EAAImD,GAAG,sCAAsC,GAAG/C,EAAG,UAAU,CAACE,MAAM,CAAC,MAAQN,EAAIY,MAAM,eAAeZ,EAAIoD,YAAY,eAAc,EAAK,iBAAiBpD,EAAIqD,eAAeC,GAAG,CAAC,eAAe,SAASC,GAAQvD,EAAIY,MAAM2C,GAAQ,qBAAqB,SAASA,GAAQvD,EAAIoD,YAAYG,GAAQ,sBAAsB,SAASA,GAAQvD,EAAIoD,YAAYG,GAAQ,uBAAuB,SAASA,GAAQvD,EAAIqD,cAAcE,GAAQ,wBAAwB,SAASA,GAAQvD,EAAIqD,cAAcE,MAAWnD,EAAG,kBAAkB,CAACE,MAAM,CAAC,WAAaN,EAAIwD,mBAAmB,UAAUxD,EAAIyD,OAAO,UAAYzD,EAAI0D,WAAWJ,GAAG,CAAC,KAAOtD,EAAI2D,eAAe,OAAS3D,EAAI4D,aAAa,KAAO5D,EAAI6D,cAAczD,EAAG,WAAW,CAAC0D,WAAW,CAAC,CAACxF,KAAK,OAAOyF,QAAQ,SAAShF,MAAOiB,EAAc,WAAEgE,WAAW,eAAe1D,MAAM,CAAC,aAAaN,EAAIiE,WAAW,gBAAgBjE,EAAIkE,QAAQ,YAAY,QAAQ,YAAY,QAAQ,kBAAkB,aAAa,aAAa,oBAAoBC,MAAM,CAACpF,MAAOiB,EAAQ,KAAEoE,SAAS,SAAUC,GAAMrE,EAAIqC,KAAKgC,GAAKL,WAAW,WAAW,IACz3C,EAAkB,G,qBCDlB,EAAS,WAAa,IAAIhE,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAAC8C,YAAY,mCAAmC,CAAC9C,EAAG,MAAM,CAAC8C,YAAY,8BAA8B,CAAC9C,EAAG,QAAQ,CAAC8C,YAAY,2BAA2B,CAAC9C,EAAG,KAAK,CAAC8C,YAAY,0BAA0B,CAAC9C,EAAG,KAAK,CAAC8C,YAAY,2BAA2B,CAAC9C,EAAG,SAAS,CAACkE,MAAM,CAAC,yBAA0B,CAAEC,OAAuB,UAAfvE,EAAIyD,OAAoBC,UAAW1D,EAAI0D,YAAapD,MAAM,CAAC,KAAO,UAAUgD,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOvD,EAAIwE,MAAM,OAAQ,CAAEf,OAAQ,QAASC,WAAY1D,EAAI0D,eAAgB,CAAC1D,EAAImD,GAAG,0CAA0C/C,EAAG,KAAK,CAACA,EAAG,SAAS,CAACkE,MAAM,CAAC,yBAA0B,CAAEC,OAAuB,gBAAfvE,EAAIyD,OAA0BC,UAAW1D,EAAI0D,YAAapD,MAAM,CAAC,KAAO,UAAUgD,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOvD,EAAIwE,MAAM,OAAQ,CAAEf,OAAQ,cAAeC,WAAY1D,EAAI0D,eAAgB,CAAC1D,EAAImD,GAAG,wDAAwD/C,EAAG,KAAK,CAAC8C,YAAY,qCAAqC,CAAC9C,EAAG,SAAS,CAACkE,MAAM,CAAC,yBAA0B,CAAEC,OAAuB,aAAfvE,EAAIyD,OAAuBC,UAAW1D,EAAI0D,YAAapD,MAAM,CAAC,KAAO,UAAUgD,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOvD,EAAIwE,MAAM,OAAQ,CAAEf,OAAQ,WAAYC,WAAY1D,EAAI0D,eAAgB,CAAC1D,EAAImD,GAAG,8CAA8C/C,EAAG,KAAK,CAACA,EAAG,SAAS,CAACkE,MAAM,CAAC,yBAA0B,CAAEC,OAAuB,aAAfvE,EAAIyD,OAAuBC,UAAW1D,EAAI0D,YAAapD,MAAM,CAAC,KAAO,UAAUgD,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOvD,EAAIwE,MAAM,OAAQ,CAAEf,OAAQ,WAAYC,WAAY1D,EAAI0D,eAAgB,CAAC1D,EAAImD,GAAG,2CAA2C/C,EAAG,QAAQJ,EAAIyE,GAAIzE,EAAc,WAAE,SAAS6C,GAAU,OAAOzC,EAAG,KAAK,CAACf,IAAIwD,EAASlC,GAAGuC,YAAY,gBAAgBI,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOvD,EAAI0E,SAAS7B,EAASlC,OAAO,CAACP,EAAG,KAAK,CAAC8C,YAAY,wBAAwB,CAAClD,EAAImD,GAAG,eAAenD,EAAI2E,GAAG9B,EAASjC,OAAO,gBAAgBR,EAAG,KAAK,CAAC8C,YAAY,yBAAyB,CAAEL,EAAe,OAAEzC,EAAG,MAAM,CAACJ,EAAImD,GAAGnD,EAAI2E,GAAG9B,EAAS1B,OAAOP,UAAUZ,EAAI4E,OAAOxE,EAAG,KAAK,CAAC8C,YAAY,2BAA2B,CAAEL,EAAiB,SAAEzC,EAAG,MAAM,CAACJ,EAAImD,GAAG,iBAAiBnD,EAAI2E,GAAG9B,EAASzB,SAASyD,MAAQhC,EAASzB,SAAS1E,QAAQ,kBAAkBsD,EAAI4E,OAAOxE,EAAG,KAAK,CAAC8C,YAAY,2BAA2B,CAAEL,EAAiB,SAAEzC,EAAG,MAAM,CAACJ,EAAImD,GAAG,iBAAiBnD,EAAI2E,GAAG9B,EAASxB,SAASwD,MAAQhC,EAASxB,SAAS3E,QAAQ,kBAAkBsD,EAAI4E,OAAOxE,EAAG,KAAK,CAAC8C,YAAY,0BAA0B,CAAC9C,EAAG,cAAc,CAAC8C,YAAY,sBAAsB5C,MAAM,CAAC,GAAK,CAAEhC,KAAM,eAAgBsD,OAAQ,CAAEjB,GAAK,GAAMkC,EAAW,OAAQ,CAAC7C,EAAImD,GAAG,yCAAyC,QAAQ,QACxlF,EAAkB,GCuEP,GACbzC,MAAO,CACLoE,WAAY,CACVC,KAAMC,MACN,UACE,MAAO,KAGXvB,OAAQ,CACNsB,KAAME,OACNC,QAAS,SAEXxB,UAAW,CACTqB,KAAMI,QACND,SAAS,IAGbE,QAAS,CACP,OAAOzE,GACLV,KAAKuE,MAAM,OAAQ7D,IAErB,SAASA,GACPV,KAAKuE,MAAM,SAAU7D,MC9F6K,ICQpM,G,UAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,OAIa,I,QCnBX,EAAS,WAAa,IAAIX,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,OAAO,CAAC8C,YAAY,WAAW,CAAC9C,EAAG,MAAM,CAAC8C,YAAY,mBAAmB,CAAClD,EAAImD,GAAG,mCAAmC/C,EAAG,MAAM,CAAC8C,YAAY,iBAAiB,CAAC9C,EAAG,QAAQ,CAAC8C,YAAY,kBAAkB,CAAC9C,EAAG,OAAO,CAACJ,EAAImD,GAAG,cAAc/C,EAAG,QAAQ,CAAC8C,YAAY,iBAAiB5C,MAAM,CAAC,KAAO,OAAO,YAAc,YAAY+E,SAAS,CAAC,MAAQrF,EAAIY,OAAO0C,GAAG,CAAC,MAAQtD,EAAIsF,kBAAkBlF,EAAG,QAAQ,CAAC8C,YAAY,0BAA0B,CAAC9C,EAAG,OAAO,CAACJ,EAAImD,GAAG,4BAA4B/C,EAAG,QAAQ,CAAC8C,YAAY,iBAAiB5C,MAAM,CAAC,KAAO,OAAO,YAAc,0BAA0B+E,SAAS,CAAC,MAAQrF,EAAIoD,aAAaE,GAAG,CAAC,MAAQtD,EAAIuF,mBAAoBvF,EAAc,WAAEI,EAAG,QAAQ,CAAC8C,YAAY,2BAA2B,CAAC9C,EAAG,OAAO,CAACJ,EAAImD,GAAG,0BAA0B/C,EAAG,QAAQ,CAAC8C,YAAY,wBAAwB5C,MAAM,CAAC,YAAc,GAAG,KAAO,SAAS,IAAM,IAAI,KAAO,KAAK+E,SAAS,CAAC,MAAQrF,EAAIqD,eAAeC,GAAG,CAAC,MAAQtD,EAAIwF,kBAAkBxF,EAAI4E,UACphC,EAAkB,GC+BP,GACbtG,KAAM,UACNoC,MAAO,CACLE,MAAO,CACLmE,KAAME,OACNC,QAAS,IAEXO,eAAgB,CACdV,KAAMW,OACNR,QAAS,KAEX9B,YAAa,CACX2B,KAAME,OACNC,QAAS,IAEXS,gBAAiB,CACfZ,KAAMW,OACNR,QAAS,KAEX7B,cAAe,CACb0B,KAAMW,QAERE,WAAY,CACVb,KAAMI,QACND,SAAS,IAGbE,QAAS,CACP,aAAaS,GACX,MAAMC,EAAUD,EAAEE,OAAOhH,MAAMiH,OAAOlG,MAAM,EAAGG,KAAKwF,gBACpDI,EAAEE,OAAOhH,MAAQ+G,EACjB7F,KAAKuE,MAAM,eAAgBsB,IAE7B,cAAcD,GACZ,MAAMC,EAAUD,EAAEE,OAAOhH,MAAMiH,OAAOlG,MAAM,EAAGG,KAAK0F,iBACpDE,EAAEE,OAAOhH,MAAQ+G,EACjB7F,KAAKuE,MAAM,qBAAsBsB,IAEnC,aAAaD,GACX,MAAM,MAAE9G,GAAU8G,EAAEE,OACpB9F,KAAKuE,MAAM,uBAAwBzF,EAAMrC,QAAUqC,EAAQ,SCxE+H,ICQ5L,G,UAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,OAIa,I,QCnBR,SAASkH,EAASC,EAAKC,GAC5B,MAAMC,EAAQD,EAAKE,MAAM,KACzB,IAAIC,EAAUJ,EAEd,IAAK,IAAI1J,EAAI,EAAGA,EAAI4J,EAAM1J,SAAUF,EAAG,CACrC,IAAK8J,EAAQF,EAAM5J,IACjB,OAAO8J,EAAQF,EAAM5J,IAEvB8J,EAAUA,EAAQF,EAAM5J,IAE1B,OAAO8J,EAEF,SAASC,EAAU/E,EAAGgF,EAAGL,GAC9B,MAAMM,EAAQR,EAASzE,EAAG2E,GACpBO,EAAST,EAASO,EAAGL,GAC3B,OAAKM,EAGAC,GAGED,EAAME,WAAWnE,cAAgBkE,EAAOC,WAAWnE,eAAiB,EAFlE,GAHC,EC8BG,OACblE,KAAM,aACNsI,WAAY,CACVC,kBACAC,UACAC,SAAA,KAEF,OACE,MAAO,CACLjC,WAAY,GACZzC,KAAM,EACN4B,WAAY,EACZrD,MAAO,GACPwC,YAAa,GACbC,cAAe,KACfI,OAAQ,QACRC,WAAW,IAGfsD,SAAU,CACR,qBACE,MAAM,MAAEpG,EAAK,YAAEwC,EAAW,cAAEC,GAAkBpD,KACxCgH,EAAkBrG,EAAM4B,cACxB0E,EAAmB9D,EAAYZ,cACrC,IAAI2D,EAGJ,OAAQlG,KAAKwD,QACX,IAAK,QACH0C,EAAO,QACP,MACF,IAAK,cACHA,EAAO,eACP,MACF,IAAK,WACHA,EAAO,gBACP,MACF,IAAK,WACHA,EAAO,gBACP,MAGJ,OAAOlG,KAAK6E,WAAWqC,OAAQ/I,IAC7B,IAAI0D,GAAM,EAWV,OATImF,IACFnF,EAAM1D,EAAEwC,MAAM4B,cAAc4E,SAASH,IAEnCC,IACFpF,EAAMA,GAAO1D,EAAE+C,QAAU/C,EAAE+C,OAAOP,MAAM4B,cAAc4E,SAASF,IAEpC,kBAAlB7D,IACTvB,EAAMA,GAAQ1D,EAAEiD,SAASwD,OAASxB,GAE7BvB,IACNuF,KAAK,CAAC7F,EAAGgF,IAAOvG,KAAKyD,UAAY6C,EAAU/E,EAAGgF,EAAGL,GAAQI,EAAUC,EAAGhF,EAAG2E,MAGhF,UACElG,KAAKqH,iBAEPlC,QAAS,IACJ,eAAW,CACZ,gBAEF,eAAezE,GACbV,KAAKsH,QAAQvK,KAAK,CAAEsB,KAAM,eAAgBsD,OAAQ,CAAEjB,MAAOA,QAE7D,cAAciB,EAAS,IACrB,IAAI4F,EAEJ,OAAO,EAAS7I,IAAIiD,GACjBC,KAAK,EAAG3F,OAAM+H,aAAY5B,WACzBpC,KAAK6E,WAAa5I,EAAKuL,IAAIpJ,GAAK,IAAI,EAASA,IAC7C4B,KAAKgE,WAAaA,EAClBhE,KAAKoC,KAAOA,IAEbR,KAAK,KAEJ,OADA2F,EAAavH,KAAK6E,WAAWqC,OAAO/I,KAAOA,EAAE+C,QACtC,EAASxC,IAAI,CAClBoD,WAAY,CAAC,KAAM,KAAM,IAAI,IAAIR,IAAIiG,EAAWC,IAAIrJ,GAAKA,EAAE+C,OAAOR,WAGrEkB,KAAK,EAAG3F,WACPsL,EAAWE,QAAStJ,IAClB,MAAM+C,EAASjF,EAAKyL,KAAKC,GAAOA,EAAIjH,KAAOvC,EAAE+C,OAAOR,IAC9CkH,EAAQ5H,KAAK6E,WAAWgD,UAAUF,GAAOA,EAAIjH,KAAOvC,EAAEuC,IAC5DV,KAAK8H,KAAK9H,KAAK6E,WAAY+C,EAAO,IAAI,EAASlL,OAAOqL,OAAO,GAAI5J,EAAG,CAAE+C,kBAI9E,QAAQkB,GACNpC,KAAKqH,cAAc,CAAEjF,UAEvB,YAAW,OAAEoB,EAAM,UAAEC,IACnBzD,KAAKwD,OAASA,EACdxD,KAAKyD,UAAYA,GAEnB,aAAa/C,GACX,MAAMiH,EAAM3H,KAAK6E,WAAW6C,KAAKvJ,GAAKA,EAAEuC,KAAOA,GAC/CV,KAAKgI,YAAYL,GACjB3H,KAAKsH,QAAQvK,KAAK,CAAEsB,KAAM,mBAAoBsD,OAAQ,CAAEjB,MAAOA,UCnJ8H,ICQ/L,G,UAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,OAIa,I,QCnBX,EAAS,WAAa,IAAIX,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACf,IAAIW,EAAIW,GAAGuC,YAAY,2BAA2B,CAAElD,EAAa,UAAEI,EAAG,KAAK,CAACJ,EAAImD,GAAGnD,EAAI2E,GAAc,MAAX3E,EAAIW,GAAY,WAAa,kBAAkB,gBAAgBP,EAAG,KAAK,CAACJ,EAAImD,GAAG,eAAe/C,EAAG,KAAK,CAAC8C,YAAY,6BAA6B,CAAClD,EAAImD,GAAGnD,EAAI2E,GAAG3E,EAAI6C,SAASjC,UAAUR,EAAG,MAAM,CAAC8C,YAAY,sBAAsB,CAAC9C,EAAG,MAAM,CAAC8C,YAAY,wBAAwB,CAAC9C,EAAG,QAAQ,CAACA,EAAG,MAAM,CAACJ,EAAImD,GAAG,cAAc/C,EAAG,QAAQ,CAAC0D,WAAW,CAAC,CAACxF,KAAK,QAAQyF,QAAQ,UAAUhF,MAAOiB,EAAS,MAAEgE,WAAW,UAAUd,YAAY,uBAAuB5C,MAAM,CAAC,UAAYN,EAAIkI,WAAW7C,SAAS,CAAC,MAASrF,EAAS,OAAGsD,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOwC,OAAOoC,YAAqBnI,EAAIY,MAAM2C,EAAOwC,OAAOhH,WAAUqB,EAAG,MAAM,CAACkE,MAAM,CAAC,QAAS,CAAE8D,QAASpI,EAAIqI,IAAMrI,EAAIqI,GAAGzH,OAASZ,EAAIqI,GAAGzH,MAAM0H,YAAa,CAACtI,EAAImD,GAAG,wDAAwD/C,EAAG,MAAM,CAAC8C,YAAY,yBAAyB,CAAElD,EAAa,UAAEI,EAAG,eAAe,CAACE,MAAM,CAAC,kBAAkBN,EAAIoD,YAAY,iBAAiB,QAAQ,QAAUpD,EAAIuI,QAAQ,UAAW,EAAM,MAAQ,mCAAmCjF,GAAG,CAAC,MAAQtD,EAAIuF,cAAc,KAAOvF,EAAIwI,OAAO,OAASxI,EAAIyI,eAAe,MAAQ,SAASlF,GAAQvD,EAAI0I,YAAcnF,IAASoF,YAAY3I,EAAI4I,GAAG,CAAC,CAACvJ,IAAI,UAAUwJ,GAAG,SAASC,GAAW,MAAO,CAAC1I,EAAG,MAAM,CAACJ,EAAImD,GAAG,iBAAiBnD,EAAI2E,GAAGmE,EAAUC,OAAOnI,OAAO,sBAAsB,MAAK,EAAM,aAAaR,EAAG,MAAM,CAACA,EAAG,OAAO,CAACJ,EAAImD,GAAG,6BAA6B/C,EAAG,MAAM,CAACJ,EAAImD,GAAGnD,EAAI2E,GAAG3E,EAAI6C,SAAS1B,QAAUnB,EAAI6C,SAAS1B,OAAOP,YAAYR,EAAG,MAAM,CAACkE,MAAM,CAAE,QAAS,CAAE8D,UAAWpI,EAAI0I,eAAiB,CAAC1I,EAAImD,GAAGnD,EAAI2E,GAAG3E,EAAI0I,iBAAiB,KAAKtI,EAAG,MAAM,CAAC8C,YAAY,2BAA2B,CAAElD,EAAY,SAAE,CAACI,EAAG,KAAK,CAACJ,EAAImD,GAAG,sCAAsCnD,EAAI2E,GAAG3E,EAAIoB,SAAS1E,QAAQ,cAAesD,EAAIoB,SAAe,OAAEhB,EAAG,kBAAkB,CAACE,MAAM,CAAC,WAAaN,EAAIoB,UAAUkC,GAAG,CAAC,KAAOtD,EAAI2D,kBAAkB3D,EAAI4E,MAAM5E,EAAI4E,MAAM,GAAGxE,EAAG,MAAM,CAAC8C,YAAY,2BAA2B,CAAElD,EAAI6C,SAAiB,SAAEzC,EAAG,KAAK,CAACJ,EAAImD,GAAG,yBAAyBnD,EAAI2E,GAAG3E,EAAI6C,SAASxB,SAASwD,SAAS7E,EAAI4E,KAAiB,MAAX5E,EAAIW,GAAYP,EAAG,cAAc,CAACE,MAAM,CAAC,GAAK,CAAEhC,KAAM,mBAAoBsD,OAAQ,CAAEjB,GAAIX,EAAIW,OAAS,CAACX,EAAImD,GAAG,0CAA0CnD,EAAI4E,MAAM,GAAI5E,EAAa,UAAEI,EAAG,MAAM,CAAC8C,YAAY,0BAA0B,CAAC9C,EAAG,SAAS,CAAC8C,YAAY,sBAAsB5C,MAAM,CAAC,SAAWN,EAAIgJ,aAAa,KAAO,UAAU1F,GAAG,CAAC,MAAQ,SAASC,GAAiC,OAAzBA,EAAO0F,kBAAyBjJ,EAAIkJ,cAAc3F,MAAW,CAACvD,EAAImD,GAAG,6BAA8BnD,EAAI6C,SAAW,GAAEzC,EAAG,SAAS,CAAC8C,YAAY,sBAAsB5C,MAAM,CAAC,KAAO,UAAUgD,GAAG,CAAC,MAAQ,SAASC,GAAQvD,EAAImJ,gBAAiB,KAAQ,CAACnJ,EAAImD,GAAG,2BAA2BnD,EAAI4E,KAAKxE,EAAG,SAAS,CAAC8C,YAAY,wBAAwB5C,MAAM,CAAC,KAAO,UAAUgD,GAAG,CAAC,MAAQ,SAASC,GAAiC,OAAzBA,EAAO0F,kBAAyBjJ,EAAIoJ,SAAS7F,SAAcnD,EAAG,MAAM,CAACA,EAAG,SAAS,CAAC8C,YAAY,sBAAsB5C,MAAM,CAAC,KAAO,UAAUgD,GAAG,CAAC,MAAQ,SAASC,GAAQA,EAAO0F,kBAAkBjJ,EAAIkI,WAAY,KAAQ,CAAClI,EAAImD,GAAG,8BAA8B/C,EAAG,eAAe,CAAC8C,YAAY,QAAQ5C,MAAM,CAAC,KAAO,QAAQ,MAAQ,0BAA0B6D,MAAM,CAACpF,MAAOiB,EAAkB,eAAEoE,SAAS,SAAUC,GAAMrE,EAAImJ,eAAe9E,GAAKL,WAAW,mBAAmB,CAAGhE,EAAIqJ,uBAAiPjJ,EAAG,WAAW,CAACkJ,KAAK,QAAQ,CAAClJ,EAAG,MAAM,CAACJ,EAAImD,GAAG,8DAA8D/C,EAAG,MAAM,CAAC8C,YAAY,kBAAkB,CAAC9C,EAAG,SAAS,CAACE,MAAM,CAAC,KAAO,UAAUgD,GAAG,CAAC,MAAQtD,EAAIuJ,kBAAkB,CAACvJ,EAAImD,GAAG,2BAA7b/C,EAAG,WAAW,CAACkJ,KAAK,QAAQ,CAAClJ,EAAG,MAAM,CAACJ,EAAImD,GAAG,sCAAsC/C,EAAG,MAAM,CAAC8C,YAAY,kBAAkB,CAAC9C,EAAG,SAAS,CAACE,MAAM,CAAC,KAAO,UAAUgD,GAAG,CAAC,MAAQtD,EAAIwJ,cAAc,CAACxJ,EAAImD,GAAG,kBAAiR,IAAI,IACv0H,EAAkB,G,6CCDlB,EAAS,WAAa,IAAInD,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAAC8C,YAAY,iBAAiB,CAAC9C,EAAG,QAAQ,CAACA,EAAG,OAAO,CAACJ,EAAImD,GAAGnD,EAAI2E,GAAG3E,EAAIyJ,UAAUrJ,EAAG,QAAQ,CAAC8C,YAAY,uBAAuB5C,MAAM,CAAC,YAAcN,EAAI0J,aAAarE,SAAS,CAAC,MAAQrF,EAAI2J,gBAAgBrG,GAAG,CAAC,MAAQtD,EAAI4J,aAAa,MAAQ5J,EAAI6J,QAAQ,KAAO7J,EAAIwI,YAAYpI,EAAG,MAAM,CAAC0D,WAAW,CAAC,CAACxF,KAAK,OAAOyF,QAAQ,SAAShF,MAAOiB,EAAIoI,SAAWpI,EAAI8J,iBAAmB9J,EAAI8J,gBAAgBpN,OAAQsH,WAAW,yDAAyDd,YAAY,0BAA0B5C,MAAM,CAAC,SAAW,KAAKgD,GAAG,CAAC,KAAOtD,EAAI+J,cAAc,OAAS,SAASxG,GAAQvD,EAAIgK,aAAc,KAAQhK,EAAIyE,GAAIzE,EAAmB,gBAAE,SAAS+I,EAAOvM,GAAG,OAAO4D,EAAG,MAAM,CAACf,IAAI7C,EAAE8H,MAAM,CAAC,uBAAuBhB,GAAG,CAAC,UAAY,SAASC,GAAQ,OAAOvD,EAAIiK,OAAOlB,MAAW,CAAC/I,EAAIkK,GAAG,UAAU,CAAClK,EAAImD,GAAG,aAAanD,EAAI2E,GAAGoE,GAAQ,aAAa,CAAC,OAASA,KAAU,KAAK,MACx8B,GAAkB,GCkCtB,SAAS,GAAS7C,EAAKC,GACrB,MAAMC,EAAQD,EAAKE,MAAM,KACzB,IAAIC,EAAUJ,EAGd,IAAK,IAAI1J,EAAI,EAAGA,EAAI4J,EAAM1J,SAAUF,EAAG,CACrC,IAAK8J,EAAQF,EAAM5J,IACjB,OAAO8J,EAAQF,EAAM5J,IAEvB8J,EAAUA,EAAQF,EAAM5J,IAE1B,OAAO8J,EAGM,QACbnC,MAAO,CACLgG,KAAM,iBACNC,MAAO,SAET1J,MAAO,CACL+I,MAAO,CACL1E,KAAME,OACNC,QAAS,IAEXyE,eAAgB,CACd5E,KAAME,OACNC,QAAS,IAEXmF,cAAe,CACbtF,KAAME,OACNC,QAAS,IAEX/C,QAAS,CACP4C,KAAMC,MACN,UACE,MAAO,KAGXsF,SAAU,CACRvF,KAAMI,QACND,SAAS,GAEXwE,YAAa,CACX3E,KAAME,OACNC,QAAS,IAEXqF,UAAW,CACTxF,KAAMW,OACNR,QAAS,MAGb,OACE,MAAO,CACL8E,aAAa,EACb5B,SAAS,EACToC,MAAO,CACLD,UAAWxL,IAAUA,GAAUA,EAAMrC,QAAUuD,KAAKsK,WAEtDE,SAAU,OAGdzD,SAAU,CACR,kBACE,IAAK/G,KAAK0J,iBAAmB1J,KAAKkC,QAChC,MAAO,GAET,MAAMuI,EAAezK,KAAK0J,eAAe3D,OAAOxD,cAChD,OAAIvC,KAAKoK,cACApK,KAAKkC,QACTgF,OAAO4B,GAAU,GAASA,EAAQ9I,KAAKoK,eACrC7H,cACA4E,SAASsD,IAGTzK,KAAKkC,QAAQgF,OAAO4B,GAAUA,EAAOvG,cAAc4E,SAASsD,MAGvEtF,QAAS,CACP,gBACEnF,KAAKmI,SAAU,EACfnI,KAAK+J,aAAc,GAErB,OAAOI,GACLnK,KAAK0K,SAASP,EAAMrE,OAAOhH,OAC3BkB,KAAKuE,MAAM,OAAQ4F,GACnBQ,WAAW,KACJ3K,KAAK+J,aACR/J,KAAK8J,iBAEN,KAEL,QAAQlE,GACN,MAAM,MAAE9G,GAAU8G,EAAEE,OACpB9F,KAAKmI,SAAU,EACfnI,KAAK0K,SAAS5L,GACdkB,KAAKuE,MAAM,QAASzF,IAEtB,OAAOgK,GACL9I,KAAK8J,gBACL9J,KAAKuE,MAAM,SAAUuE,IAEvB,SAAShK,GACP,OAAIkB,KAAKqK,WAAavL,GACpBkB,KAAKuE,MAAM,QAAS,+CACb,GAEJvE,KAAKuK,MAAMD,UAAUxL,IAI1BkB,KAAKuE,MAAM,QAAS,KACb,IAJLvE,KAAKuE,MAAM,QAAS,0BACb,IAKX,eACMvE,KAAK0J,gBAAkB1J,KAAK6J,gBAAgBpN,SAC9CuD,KAAKmI,SAAU,MCtJ8K,MCQjM,I,UAAY,eACd,GACA,EACA,IACA,EACA,KACA,KACA,OAIa,M,QCjBA,IACb,OACE,MAAO,CACLM,YAAa,GACbvH,OAAQ,KACRoH,QAAS,GACTnF,YAAa,KAGjB,UACMnD,KAAK4K,MACP5K,KAAK4K,OAEP5K,KAAK6K,sBAAwB,sBAAS7K,KAAK8K,aAAc,MAE3D3F,QAAS,CACP,OAAOS,GACD5F,KAAKyI,aAGL7C,EAAEE,QAAUF,EAAEE,OAAOhH,QAAUkB,KAAKkB,SACtClB,KAAKyI,YAAc,iCAGvB,cAAcsC,GACZ/K,KAAKmD,YAAc4H,EAAIhF,OACvB/F,KAAKkB,OAAS,KACTlB,KAAKyI,aACRzI,KAAK6K,sBAAsB7K,KAAKmD,cAGpC,eAAeP,GACb5C,KAAKyI,YAAc,GACnBzI,KAAKmD,YAAcP,EAASjC,MAC5BX,KAAKkB,OAAS0B,KC+EL,IACboI,OAAQ,CAACC,IACTtE,WAAY,CAAEC,kBAAiBsE,gBAAcC,YAAA,KAC7C1K,MAAO,CACLC,GAAI,CACFoE,KAAME,OACNqF,UAAU,IAGd,cACE,MAAO,CACL1J,MAAO,CACL2J,UAAW,uBAAU,QAI3B,OACE,MAAO,CACL3J,MAAO,GACPQ,SAAU,GACVC,SAAU,GACV8H,gBAAgB,EAChBE,wBAAwB,EACxBnB,WAAW,IAGflB,SAAU,IACL,eAAS,CACVnE,SAAUD,GAASA,EAAMC,WAE3B,eACE,IAAK5C,KAAKoI,GACR,OAAO,EAET,MAAM,GAAEA,GAAOpI,KAEf,OAAQoI,GAAMA,EAAGzH,OAASyH,EAAGzH,MAAM0H,YAAerI,KAAKyI,aAEzD,kBACE,OAAOzI,KAAK4C,UACP5C,KAAK4C,SAASzB,UACdnB,KAAK4C,SAASxB,WACbpB,KAAK4C,SAASzB,SAASyD,MAAQ5E,KAAK4C,SAASxB,SAASwD,QAGhEwG,MAAO,CACL1K,GAAI,CACF2K,MAAM,EACN,QAAQC,EAAQC,GACC,MAAXA,GACFvL,KAAKwL,uBAIX5I,SAAU,CACRyI,MAAM,EACN,QAAQC,EAAQC,IACVD,EAAOpK,SAAUoK,EAAOpK,OAAOP,OAAW4K,EAAOrK,QAAWqK,EAAOrK,OAAOP,QAC5EX,KAAKkB,OAASoK,EAAOpK,OACrBlB,KAAKmD,YAAcmI,EAAOpK,OAAOP,UAKzC,UACEX,KAAKiJ,cAAgB,sBAASjJ,KAAKyL,aAAc,KACjDzL,KAAKsJ,gBAAkB,sBAAStJ,KAAK0L,eAAgB,KACrD1L,KAAKwL,sBAEPrG,QAAS,IACJ,eAAW,CACZ,gBAEF,qBACE,EAASwG,QAAQ,CAAEjL,GAAIV,KAAKU,KACzBkB,KAAMC,IACL7B,KAAKgI,YAAY,IAAI,EAASnG,IAC9B,MAAM,MACJlB,EAAK,OAAEO,EAAM,SAAEE,GACbpB,KAAK4C,SACT5C,KAAKW,MAAQA,EACbX,KAAKoB,SAAWA,EAEZF,EACFlB,KAAK4L,aAEL5L,KAAKkB,OAAS,KACdlB,KAAKmD,YAAc,IAErBnD,KAAK6L,iBAGX,eACM7L,KAAK8L,iBAAoB9L,KAAKoJ,uBAIlCpJ,KAAK0L,iBAHH1L,KAAKoJ,wBAAyB,GAKlC,iBACEpJ,KAAK4C,SAASmJ,SACXnK,KAAK,KACJ5B,KAAKkJ,gBAAiB,EACtBlJ,KAAKoJ,wBAAyB,EAC9BpJ,KAAKsH,QAAQ0E,IAAI,MAGvB,cACE,MAAMvM,EAAI,GAIV,OAHAO,KAAK4C,SAASzB,SAASsG,QAAStJ,IAC9BsB,EAAE1C,KAAK,EAAS4O,QAAQ,CAAEjL,GAAIvC,EAAEuC,QAE3BqB,QAAQkK,IAAIxM,GAChBmC,KAAM3F,IACL+D,KAAKmB,SAAWlF,EAChB+D,KAAKmB,SAASsG,QAAStJ,IAErBA,EAAE+C,OAASlB,KAAK4C,cAIxB,YACO5C,KAAK4C,UAAa5C,KAAK4C,SAAS1B,QAGrC,EAASyK,QAAQ,CAAEjL,GAAIV,KAAK4C,SAAS1B,OAAOR,KACzCkB,KAAMC,IACL7B,KAAKkB,OAAS,IAAI,EAASW,GAC3B7B,KAAKmD,YAAcnD,KAAKkB,OAAOP,SAGrC,eAAeD,GACbV,KAAKsH,QAAQvK,KAAK,CAAEsB,KAAM,eAAgBsD,OAAQ,CAAEjB,MAAOA,QAE7D,WACEV,KAAKsH,QAAQ0E,IAAI,IAEnB,eACE,MAAM,GACJtL,EAAE,MAAEC,EAAK,OAAEO,EAAM,SAAEC,EAAQ,SAAEC,GAC3BpB,KACEkM,EAAa,CACjBxL,KACAC,QACAQ,WACAC,WACAF,UAEIiL,EAAa,CACjBzL,KACAC,QACAS,YAKF,GAFA+K,EAAWjL,OAASA,EAAS,CAAER,GAAIQ,EAAOR,IAAO,KACjDyL,EAAWhL,SAAWA,EAAS1E,OAAS0E,EAASqG,IAAIrJ,IAAK,CAAGuC,GAAIvC,EAAEuC,MAAS,GAC5D,MAAZV,KAAKU,GAMP,YALAV,KAAK4C,SAASwJ,OAAOD,GAClBvK,KAAK,KACJ5B,KAAKgI,YAAYkE,GACjBlM,KAAKiI,WAAY,IAKvB,MAAMoE,EAAc,IAAI,EAASH,GACjCG,EAAYlN,OAAOgN,GAChBvK,KAAMC,IACL7B,KAAKiI,WAAY,EACjB,MAAMqE,EAAazK,EAAI,eACvBqK,EAAWxL,GAAK4L,EAAW5L,GAC3BV,KAAKgI,YAAYkE,GACjBlM,KAAKsH,QAAQiF,QAAQ,CACnBlO,KAAM,eACNsD,OAAQ,CACNjB,MAAO4L,EAAW5L,WAK5B,aAAaC,GACNA,GAGL,EAAS6L,WAAW,CAAE7L,UAASiB,KAAMC,IACnC7B,KAAKsI,QAAUzG,EAAIqF,OAAO/I,GAAKA,EAAEuC,KAAOV,KAAK4C,SAASlC,SC5SuI,MCQjM,I,UAAY,eACd,GACA,EACA,GACA,EACA,KACA,KACA,OAIa,M,QCnBX,GAAS,WAAa,IAAIX,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAAC8C,YAAY,sBAAsB,CAAElD,EAAM,GAAEI,EAAG,KAAK,CAAC8C,YAAY,mBAAmB,CAAClD,EAAImD,GAAG,uBAAuBnD,EAAI2E,GAAG3E,EAAI6C,SAASjC,UAAUR,EAAG,KAAK,CAACJ,EAAImD,GAAG,eAAe/C,EAAG,MAAM,CAAC8C,YAAY,UAAU,CAAC9C,EAAG,cAAc,CAACE,MAAM,CAAC,GAAK,CAAEhC,KAAM,gBAAiB,CAAC0B,EAAImD,GAAG,kBAAkB/C,EAAG,cAAc,CAACE,MAAM,CAAC,GAAK,CAAEhC,KAAM,cAAesD,OAAQ,CAAEjB,GAAI,QAAS,CAACX,EAAImD,GAAG,wBAAwB,GAAInD,EAAIqB,SAAe,OAAEjB,EAAG,UAAU,CAACE,MAAM,CAAC,MAAQN,EAAIY,MAAM,eAAeZ,EAAIoD,YAAY,mBAAmB,KAAK,iBAAiBpD,EAAIqD,eAAeC,GAAG,CAAC,eAAe,SAASC,GAAQvD,EAAIY,MAAM2C,GAAQ,qBAAqB,SAASA,GAAQvD,EAAIoD,YAAYG,GAAQ,sBAAsB,SAASA,GAAQvD,EAAIoD,YAAYG,GAAQ,uBAAuB,SAASA,GAAQvD,EAAIqD,cAAcE,GAAQ,wBAAwB,SAASA,GAAQvD,EAAIqD,cAAcE,MAAWvD,EAAI4E,KAAM5E,EAAIqB,SAAe,OAAEjB,EAAG,QAAQ,CAAC8C,YAAY,mBAAmB,CAAC9C,EAAG,KAAK,CAAC8C,YAAY,kBAAkB,CAAC9C,EAAG,KAAK,CAACA,EAAG,SAAS,CAACkE,MAAM,CAAC,iBAAkB,CAAEC,OAAuB,UAAfvE,EAAIyD,OAAoBC,UAAW1D,EAAI0D,YAAapD,MAAM,CAAC,KAAO,UAAUgD,GAAG,CAAC,MAAQ,SAASC,GAAQvD,EAAIyD,OAAS,QAASzD,EAAI0D,WAAa1D,EAAI0D,aAAa,CAAC1D,EAAImD,GAAG,sCAAsC/C,EAAG,KAAK,CAACA,EAAG,SAAS,CAACkE,MAAM,CAAC,iBAAkB,CAAEC,OAAuB,gBAAfvE,EAAIyD,OAA0BC,UAAW1D,EAAI0D,YAAapD,MAAM,CAAC,KAAO,UAAUgD,GAAG,CAAC,MAAQ,SAASC,GAAQvD,EAAIyD,OAAS,cAAezD,EAAI0D,WAAa1D,EAAI0D,aAAa,CAAC1D,EAAImD,GAAG,oDAAoD/C,EAAG,KAAK,CAAC8C,YAAY,yBAAyB,CAAC9C,EAAG,SAAS,CAACkE,MAAM,CAAC,iBAAkB,CAAEC,OAAuB,SAAfvE,EAAIyD,OAAmBC,UAAW1D,EAAI0D,YAAapD,MAAM,CAAC,KAAO,UAAUgD,GAAG,CAAC,MAAQ,SAASC,GAAQvD,EAAIyD,OAAS,OAAQzD,EAAI0D,WAAa1D,EAAI0D,aAAa,CAAC1D,EAAImD,GAAG,wCAAwC/C,EAAG,QAAQJ,EAAIyE,GAAIzE,EAAoB,iBAAE,SAAS0M,GAAS,OAAOtM,EAAG,cAAc,CAACf,IAAIqN,EAAQ/L,GAAGgM,IAAI,KAAKrM,MAAM,CAAC,sBAAqB,EAAM,QAAUoM,GAASpJ,GAAG,CAAC,KAAO,SAASC,GAAQ,OAAOvD,EAAIuH,QAAQvK,KAAK,CAAEsB,KAAM,cAAesD,OAAQ,CAAEjB,GAAK,GAAM+L,EAAU,aAAe,GAAG1M,EAAI4E,KAAKxE,EAAG,WAAW,CAAC0D,WAAW,CAAC,CAACxF,KAAK,OAAOyF,QAAQ,SAAShF,MAAOiB,EAAc,WAAEgE,WAAW,eAAe1D,MAAM,CAAC,aAAaN,EAAIiE,WAAW,gBAAgBjE,EAAIkE,QAAQ,YAAY,QAAQ,YAAY,QAAQ,kBAAkB,aAAa,aAAa,oBAAoBC,MAAM,CAACpF,MAAOiB,EAAQ,KAAEoE,SAAS,SAAUC,GAAMrE,EAAIqC,KAAKgC,GAAKL,WAAW,WAAW,IACjiF,GAAkB,GCDlB,GAAS,WAAa,IAAIhE,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,KAAK,CAAC8C,YAAY,gBAAgB,CAAC9C,EAAG,KAAK,CAAC8C,YAAY,uBAAuB,CAAClD,EAAImD,GAAG,SAASnD,EAAI2E,GAAG3E,EAAI0M,QAAQ9L,OAAO,UAAUR,EAAG,KAAK,CAAC8C,YAAY,wBAAwB,CAAClD,EAAImD,GAAG,SAASnD,EAAI2E,GAAG3E,EAAI0M,QAAQ7J,SAASjC,OAAO,UAAUR,EAAG,KAAK,CAAC8C,YAAY,sBAAsB,CAAC9C,EAAG,MAAM,CAAC8C,YAAY,0BAA0B,CAAClD,EAAImD,GAAGnD,EAAI2E,GAAG3E,EAAI0M,QAAQE,WAAWxM,EAAG,KAAK,CAAC8C,YAAY,yBAAyB,CAAC9C,EAAG,cAAc,CAAC0D,WAAW,CAAC,CAACxF,KAAK,OAAOyF,QAAQ,SAAShF,OAAQiB,EAAI6M,iBAAkB7I,WAAW,sBAAsBd,YAAY,qBAAqB5C,MAAM,CAAC,GAAK,CAAEhC,KAAM,cAAesD,OAAQ,CAAEjB,GAAK,GAAMX,EAAI0M,QAAU,OAAS,CAAC1M,EAAImD,GAAG,6BAA6B,MAC/wB,GAAkB,GCuBP,IACbzC,MAAO,CACLgM,QAAS,CACP3H,KAAMpI,OACN,UACE,MAAO,CACLiE,MAAO,MAIbiM,iBAAkB,CAChB9H,KAAMI,QACND,SAAS,IAGbE,QAAS,CACP,SACEnF,KAAKuE,MAAM,OAAQvE,KAAKyM,QAAQ/L,OCzC8J,MCQhM,I,UAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,OAIa,M,QCff,MAAM,WAAgB,EACpB,YAAYD,EAAQ,CAClBC,GAAI,GAAIC,MAAO,GAAIgM,KAAM,GAAI/J,SAAU,KAEvCvB,MAAMZ,GACNT,KAAK2M,KAAOlM,EAAMkM,MAAQ,GAC1B3M,KAAK4C,SAAWnC,EAAMmC,SAIxB,OAAO3G,GACL,OAAO,EAAAsF,EACJC,KAAKZ,EAAS,CACba,QAAS,MACTC,OAAQ,gBACRhB,GAAI,OACJiB,OAAQ,CACN1F,UAGH2F,KAAKC,GAAOA,EAAI5F,MAAQ4F,EAAI5F,KAAKqB,QAGtC,SACE,OAAO,EAAAiE,EACJC,KAAKZ,EAAS,CACba,QAAS,MACTC,OAAQ,gBACRhB,GAAI,OACJiB,OAAQ,CACNG,WAAY,CAAC,KAAM,IAAK9B,KAAKU,OAGhCkB,KAAKC,GAAOA,EAAI5F,MAAQ4F,EAAI5F,KAAKqB,QAGtC,eAAe4E,EAAU,CAAEC,QAAS,KAClC,MAAM,GAAEzB,GAAOwB,EAEf,OAAKxB,EAGE,EAAAa,EACJC,KAAKZ,EAAS,CACba,QAAS,MACTC,OAAQ,cACRhB,GAAI,OACJiB,OAAQ,CACNG,WAAY,CAAC,KAAM,IAAKpB,MAG3BkB,KAAKC,GAAOA,EAAI5F,MAAQ4F,EAAI5F,KAAKqB,QAAUuE,EAAI5F,KAAKqB,OAAOrB,MAAQ4F,EAAI5F,KAAKqB,OAAOrB,KAAK,IAXlF8F,QAAQC,OAAO,IAAIC,MAAM,kCAepC,OAAOhG,GACL,MAAM,GAAEyE,GAAOzE,EAEf,OAAKyE,EAGE,EAAAa,EACJC,KAAKZ,EAAS,CACba,QAAS,MACTC,OAAQ,gBACRhB,GAAI,OACJiB,OAAQ,CACNG,WAAY,CAAC,KAAM,IAAK7F,EAAKyE,IAC7BzE,UAGH2F,KAAKC,GAAOA,EAAI5F,MAAQ4F,EAAI5F,KAAKqB,QAZ3ByE,QAAQC,OAAO,IAAIC,MAAM,qBAepC,YAAW,QAAEE,EAAU,GAAE,KAAEC,EAAI,WAAEN,EAAa,CAAC,KAAM,iBACnD,OAAO,EAAAP,EACJC,KAAKZ,EAAS,CACba,QAAS,MACTC,OAAQ,cACRhB,GAAI,OACJiB,OAAQ,CACNG,aACAM,OACAD,aAGHP,KAAKC,GAAOA,EAAI5F,MAAQ4F,EAAI5F,KAAKqB,QAGtC,sBAAqB,QAAE6E,EAAU,GAAE,KAAEC,EAAI,WAAEyK,IACzC,OAAKA,EAGE,EAAAtL,EACJC,KAAKZ,EAAS,CACba,QAAS,MACTC,OAAQ,cACRhB,GAAI,OACJiB,OAAQ,CACNG,WAAY,CAAC,WAAY,IAAK+K,GAC9BzK,OACAD,aAGHP,KAAKC,GAAOA,EAAI5F,MAAQ4F,EAAI5F,KAAKqB,QAb3ByE,QAAQC,OAAO,IAAIC,MAAM,wCAiBvB,UCzCA,IACb5D,KAAM,WACNsI,WAAY,CACVmG,eACAjG,UACAC,SAAA,KAEFrG,MAAO,CACLC,GAAI,CACFoE,KAAME,SAGV,OACE,MAAO,CACL5D,SAAU,GACVgB,KAAM,EACN4B,WAAY,EACZrD,MAAO,GACPwC,YAAa,GACbC,cAAe,KACfI,OAAQ,QACRC,WAAW,IAGfsD,SAAU,IACL,eAAS,CACVnE,SAAUD,GAASA,EAAMC,WAE3B,mBACE,MAAM,MAAEjC,EAAK,YAAEwC,EAAW,cAAEC,GAAkBpD,KACxCgH,EAAkBrG,EAAM4B,cACxB0E,EAAmB9D,EAAYZ,cACrC,IAAI2D,EAGJ,OAAQlG,KAAKwD,QACX,IAAK,QACH0C,EAAO,QACP,MACF,IAAK,cACHA,EAAO,eACP,MACF,IAAK,OACHA,EAAO,OACP,MAGJ,OAAOlG,KAAKoB,SAAS8F,OAAQ/I,IAC3B,IAAI0D,GAAM,EAWV,OATImF,IACFnF,EAAM1D,EAAEwC,MAAM4B,cAAc4E,SAASH,IAEnCC,IACFpF,EAAMA,GAAO1D,EAAEyE,UAAYzE,EAAEyE,SAASjC,MAAM4B,cAAc4E,SAASF,IAExC,kBAAlB7D,IACTvB,EAAMA,GAAQ1D,EAAEiD,SAASwD,OAASxB,GAE7BvB,IACNuF,KAAK,CAAC7F,EAAGgF,IAAOvG,KAAKyD,UAAY6C,EAAU/E,EAAGgF,EAAGL,GAAQI,EAAUC,EAAGhF,EAAG2E,MAGhF,UACMlG,KAAKU,GACP,EAASiL,QAAQ,CAAEjL,GAAIV,KAAKU,KACzBkB,KAAMC,IACL7B,KAAKgI,YAAY,IAAI,EAASnG,IAC9B7B,KAAK+M,wBAGT/M,KAAKgN,eAGT7H,QAAS,IACJ,eAAW,CACZ,gBAEF,oBAAoB1F,GAClB,MAAMoN,EAAa7M,KAAK4C,SAASlC,GAC5BmM,GAGL,GAAQI,cAAc,CAAE7K,KAAM3C,EAAGoN,eAC9BjL,KAAK,EAAG3F,OAAM+H,aAAY5B,WACzBpC,KAAKoB,SAAWnF,EAAKuL,IAAKpJ,IAGxB,OADAA,EAAEwE,SAAWlG,OAAOqL,OAAO,GAAI/H,KAAK4C,UAC7B,IAAI,GAAQxE,KAErB4B,KAAKgE,WAAaA,EAClBhE,KAAKoC,KAAOA,KAGlB,YAAYA,GACV,GAAQ1D,IAAI,CAAE0D,SAEXR,KAAK,EAAG3F,OAAM+H,aAAY5B,WACzBpC,KAAKoB,SAAWnF,EAAKuL,IAAIpJ,GAAK,IAAI,GAAQA,IAC1C4B,KAAKgE,WAAaA,EAClBhE,KAAKoC,KAAOA,EACZ,MAAM8K,EAAgBjR,EAAKuL,IAAItJ,GAAKA,EAAE0E,UAAY1E,EAAE0E,SAASlC,IAE7D,OAAO,EAAShC,IAAI,CAClBoD,WAAY,CAAC,KAAM,KAAM,IAAI,IAAIR,IAAI4L,SAGxCtL,KAAK,EAAG3F,WACP+D,KAAKoB,SAASqG,QAAQ,CAACvJ,EAAG0J,KACxB,MAAMhF,EAAW3G,EAAKyL,KAAKC,GAAOA,EAAIjH,KAAOxC,EAAE0E,SAASlC,IACxDV,KAAK8H,KAAK9H,KAAKoB,SAAUwG,EAAO,IAAI,GAAQlL,OAAOqL,OAAO,GAAI7J,EAAG,CAAE0E,oBAI3E,QAAQR,GACFpC,KAAKU,GACPV,KAAK+M,oBAAoB3K,GAEzBpC,KAAKgN,YAAY5K,MC7LwK,MCQ7L,I,UAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,OAIa,M,QCnBX,GAAS,WAAa,IAAIrC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAAC8C,YAAY,0BAA0B,CAAElD,EAAa,UAAEI,EAAG,KAAK,CAACJ,EAAImD,GAAGnD,EAAI2E,GAAc,MAAX3E,EAAIW,GAAY,WAAa,kBAAkB,gBAAgBP,EAAG,KAAK,CAACJ,EAAImD,GAAG,eAAgBnD,EAAW,QAAEI,EAAG,KAAK,CAAC8C,YAAY,4BAA4B,CAAClD,EAAImD,GAAGnD,EAAI2E,GAAG3E,EAAI0M,QAAQ9L,UAAUZ,EAAI4E,KAAKxE,EAAG,MAAM,CAAC8C,YAAY,UAAU,CAAElD,EAAI0M,SAAW1M,EAAI0M,QAAQ7J,UAAwB,MAAX7C,EAAIW,GAAaP,EAAG,cAAc,CAACE,MAAM,CAAC,GAAK,CAAEhC,KAAM,mBAAoBsD,OAAQ,CAAEjB,GAAK,GAAMX,EAAI0M,QAAQ7J,SAAW,OAAS,CAAC7C,EAAImD,GAAG,0CAA0CnD,EAAI4E,MAAM,GAAGxE,EAAG,MAAM,CAAC8C,YAAY,uBAAuB,CAAC9C,EAAG,QAAQ,CAACA,EAAG,MAAM,CAACJ,EAAImD,GAAG,cAAc/C,EAAG,QAAQ,CAAC0D,WAAW,CAAC,CAACxF,KAAK,QAAQyF,QAAQ,UAAUhF,MAAOiB,EAAS,MAAEgE,WAAW,UAAUd,YAAY,sBAAsB5C,MAAM,CAAC,UAAYN,EAAIkI,UAAU,KAAO,QAAQ7C,SAAS,CAAC,MAASrF,EAAS,OAAGsD,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOwC,OAAOoC,YAAqBnI,EAAIY,MAAM2C,EAAOwC,OAAOhH,WAAUqB,EAAG,MAAM,CAACkE,MAAM,CAAC,QAAS,CAAE8D,QAASpI,EAAIqI,IAAMrI,EAAIqI,GAAGzH,OAASZ,EAAIqI,GAAGzH,MAAM0H,YAAa,CAACtI,EAAImD,GAAG,oDAAoD/C,EAAG,MAAM,CAAC8C,YAAY,wBAAwB,CAAElD,EAAa,UAAE,CAACI,EAAG,eAAe,CAACE,MAAM,CAAC,kBAAkBN,EAAIoD,YAAY,iBAAiB,QAAQ,QAAUpD,EAAIuI,QAAQ,UAAW,EAAM,MAAQ,YAAY,YAAc,YAAYjF,GAAG,CAAC,MAAQtD,EAAIuF,cAAc,KAAOvF,EAAIwI,OAAO,OAASxI,EAAIyI,eAAe,MAAQ,SAASlF,GAAQvD,EAAI0I,YAAcnF,IAASoF,YAAY3I,EAAI4I,GAAG,CAAC,CAACvJ,IAAI,UAAUwJ,GAAG,SAASC,GAAW,MAAO,CAAC1I,EAAG,MAAM,CAACJ,EAAImD,GAAG,iBAAiBnD,EAAI2E,GAAGmE,EAAUC,OAAOnI,OAAO,sBAAsB,MAAK,EAAM,aAAaR,EAAG,MAAM,CAACkE,MAAM,CAAE,QAAS,CAAE8D,UAAWpI,EAAI0I,eAAiB,CAAC1I,EAAImD,GAAGnD,EAAI2E,GAAG3E,EAAI0I,iBAAiB,CAACtI,EAAG,QAAQ,CAACA,EAAG,MAAM,CAACJ,EAAImD,GAAG,eAAgBnD,EAAI0M,SAAW1M,EAAI0M,QAAQ7J,SAAUzC,EAAG,QAAQ,CAACE,MAAM,CAAC,SAAW,IAAI+E,SAAS,CAAC,MAAQrF,EAAI0M,QAAQ7J,SAASjC,SAASZ,EAAI4E,SAAS,GAAGxE,EAAG,MAAM,CAAC8C,YAAY,sBAAsB,CAAC9C,EAAG,QAAQ,CAACA,EAAG,MAAM,CAACJ,EAAImD,GAAG,WAAW/C,EAAG,WAAW,CAAC0D,WAAW,CAAC,CAACxF,KAAK,QAAQyF,QAAQ,UAAUhF,MAAOiB,EAAQ,KAAEgE,WAAW,SAASd,YAAY,yBAAyB5C,MAAM,CAAC,UAAYN,EAAIkI,WAAW7C,SAAS,CAAC,MAASrF,EAAQ,MAAGsD,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOwC,OAAOoC,YAAqBnI,EAAI4M,KAAKrJ,EAAOwC,OAAOhH,eAAcqB,EAAG,MAAM,CAAC8C,YAAY,yBAAyB,CAAElD,EAAa,UAAE,CAACI,EAAG,SAAS,CAAC8C,YAAY,qBAAqB5C,MAAM,CAAC,WAAaN,EAAI0I,YAAY,KAAO,UAAUpF,GAAG,CAAC,MAAQ,SAASC,GAAiC,OAAzBA,EAAO0F,kBAAyBjJ,EAAIkJ,cAAc3F,MAAW,CAACvD,EAAImD,GAAG,iCAA6C,MAAXnD,EAAIW,GAAYP,EAAG,SAAS,CAAC8C,YAAY,qBAAqB5C,MAAM,CAAC,KAAO,UAAUgD,GAAG,CAAC,MAAQ,SAASC,GAAQA,EAAO0F,kBAAkBjJ,EAAImJ,gBAAiB,KAAQ,CAACnJ,EAAImD,GAAG,+BAA+BnD,EAAI4E,KAAKxE,EAAG,SAAS,CAAC8C,YAAY,uBAAuB5C,MAAM,CAAC,KAAO,UAAUgD,GAAG,CAAC,MAAQ,SAASC,GAAiC,OAAzBA,EAAO0F,kBAAyBjJ,EAAIoJ,SAAS7F,QAAanD,EAAG,SAAS,CAAC8C,YAAY,qBAAqB5C,MAAM,CAAC,KAAO,UAAUgD,GAAG,CAAC,MAAQ,SAASC,GAAQA,EAAO0F,kBAAkBjJ,EAAIkI,WAAY,KAAQ,CAAClI,EAAImD,GAAG,6BAA6B,GAAG/C,EAAG,eAAe,CAAC8C,YAAY,QAAQ5C,MAAM,CAAC,KAAO,QAAQ,MAAQ,0BAA0B6D,MAAM,CAACpF,MAAOiB,EAAkB,eAAEoE,SAAS,SAAUC,GAAMrE,EAAImJ,eAAe9E,GAAKL,WAAW,mBAAmB,CAAC5D,EAAG,WAAW,CAACkJ,KAAK,QAAQ,CAAClJ,EAAG,MAAM,CAACJ,EAAImD,GAAG,sCAAsC/C,EAAG,MAAM,CAAC8C,YAAY,kBAAkB,CAAC9C,EAAG,SAAS,CAACE,MAAM,CAAC,KAAO,UAAUgD,GAAG,CAAC,MAAQtD,EAAIuJ,kBAAkB,CAACvJ,EAAImD,GAAG,kBAAkB,IAAI,IAC7mH,GAAkB,GCsHP,IACbzC,MAAO,CACLC,GAAI,CACFoE,KAAME,OACNqF,UAAU,IAGdW,OAAQ,CAACC,IACTtE,WAAY,CAAEuE,gBAAcC,YAAA,KAC5B,cACE,MAAO,CACLxK,MAAO,CACL2J,UAAW,uBAAU,SAI3B,OACE,MAAO,CACL3J,MAAO,GACPgM,KAAM,GACN/J,SAAU,GACV6J,QAAS,KACTvD,gBAAgB,EAChBjB,WAAW,IAGflB,SAAU,CACR,eACE,IAAK/G,KAAKoI,GACR,OAAO,EAET,MAAM,GAAEA,GAAOpI,KAEf,OAAQoI,GAAMA,EAAGzH,OAASyH,EAAGzH,MAAM0H,YAAerI,KAAKyI,cAG3D,UACEzI,KAAKiJ,cAAgB,sBAASjJ,KAAKmN,YAAa,KAChDnN,KAAKsJ,gBAAkB,sBAAStJ,KAAKoN,cAAe,MAEtDjI,QAAS,CACP,OACE,GAAQwG,QAAQ,CAAEjL,GAAIV,KAAKU,KACxBkB,KAAMC,IACL7B,KAAKyM,QAAU,IAAI,GAAQ5K,GAC3B,MAAM,MACJlB,EAAK,SAAEiC,EAAQ,KAAE+J,GACf3M,KAAKyM,QACTzM,KAAKW,MAAQA,EACbX,KAAK2M,KAAOA,EAER/J,EACF5C,KAAK4L,aAEL5L,KAAKkB,OAAS,KACdlB,KAAKmD,YAAc,OAI3B,gBACEnD,KAAKyM,QAAQV,SACVnK,KAAK,KACJ5B,KAAKkJ,gBAAiB,EACtBlJ,KAAKsH,QAAQ0E,IAAI,MAGvB,YACOhM,KAAKyM,SAAYzM,KAAKyM,QAAQ7J,UAGnC,EAAS+I,QAAQ,CAAEjL,GAAIV,KAAKyM,QAAQ7J,SAASlC,KAC1CkB,KAAMC,IACL7B,KAAKkB,OAAS,IAAI,EAASW,GAC3B7B,KAAKmD,YAAcnD,KAAKkB,OAAOP,SAGrC,WACEX,KAAKsH,QAAQ0E,IAAI,IAEnB,cACE,MAAM,GACJtL,EAAE,MAAEC,EAAK,OAAEO,EAAM,KAAEyL,EAAI,QAAEF,GACvBzM,KACE6M,EAAa3L,GAAUA,EAAOR,GAC9ByL,EAAa,CACjBzL,KACAC,QACAgM,QAGFR,EAAWvJ,SAAW,CAAElC,GAAImM,GACxBJ,EAAQ/L,GACV+L,EAAQL,OAAOD,GACZvK,KAAK,KACJ5B,KAAKiI,WAAY,EACjBwE,EAAQ7J,SAAW1B,IAKzBuL,EAAQtN,OAAOgN,GACZvK,KAAMC,IACL,MAAMyK,EAAazK,EAAI,eACvB4K,EAAQ/L,GAAK4L,GAAcA,EAAW5L,GACtCV,KAAKiI,WAAY,EACjBwE,EAAQ7J,SAAW1B,EACnBlB,KAAKsH,QAAQiF,QAAQ,CACnBlO,KAAM,cACNsD,OAAQ,CACNjB,MAAO4L,EAAW5L,WAK5B,aAAaC,GACNA,GAGL,EAAS6L,WAAW,CAAE7L,UAASiB,KAAMC,IACnC7B,KAAKsI,QAAUzG,OC9O6K,MCQhM,I,UAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,OAIa,M,QCZf,OAAIY,IAAI,QAEO,WAAI,OAAU,CAC3B4K,OAAQ,CACN,CAAEnH,KAAM,IAAK7H,KAAM,OAAQkC,UAAW+M,GACtC,CAAEpH,KAAM,cAAe7H,KAAM,aAAckC,UAAW+M,GACtD,CACEpH,KAAM,wBAAyB7H,KAAM,mBAAoBkC,UAAWgN,GAAU9M,OAAO,GAEvF,CACEyF,KAAM,oBAAqB7H,KAAM,eAAgBkC,UAAWiN,GAAc/M,OAAO,GAEnF,CAAEyF,KAAM,YAAa7H,KAAM,WAAYkC,UAAWgN,IAClD,CACErH,KAAM,mBAAoB7H,KAAM,cAAekC,UAAWkN,GAAahN,OAAO,MCfpF,OAAIiN,OAAOC,eAAgB,EAC3B,OAAIlL,IAAI,KAER,IAAI,OAAI,CACNmL,QACAC,UACA,OAAOC,GAAK,OAAOA,EAAEC,MACpBC,OAAO,S,oFCbV,yBAAof,EAAG,G,yGCAvf,yBAAqhB,EAAG","file":"js/app.00776135.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/email-templates-manager/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MessageEdit.vue?vue&type=style&index=0&id=21f701de&scoped=true&lang=less&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MessageEdit.vue?vue&type=style&index=0&id=21f701de&scoped=true&lang=less&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Categories.vue?vue&type=style&index=0&id=41758223&lang=less&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Categories.vue?vue&type=style&index=0&id=41758223&lang=less&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CategoryEdit.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CategoryEdit.vue?vue&type=style&index=0&lang=less&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MessageView.vue?vue&type=style&index=0&id=6d3cfcb2&scoped=true&lang=less&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MessageView.vue?vue&type=style&index=0&id=6d3cfcb2&scoped=true&lang=less&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Filters.vue?vue&type=style&index=0&id=d6599868&lang=less&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Filters.vue?vue&type=style&index=0&id=d6599868&lang=less&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Messages.vue?vue&type=style&index=0&id=26efb2de&lang=less&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Messages.vue?vue&type=style&index=0&id=26efb2de&lang=less&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchSelect.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchSelect.vue?vue&type=style&index=0&lang=less&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"app\">\n    <router-view />\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'app',\n};\n</script>\n\n<style lang=\"less\">\n @import \"assets/styles/variables\";\n  #app {\n    font-family: 'Avenir', Helvetica, Arial, sans-serif;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    color: @text-color;\n    font-size: 14px;\n  }\n  * {\n   box-sizing: border-box;\n  }\n  body {\n    margin: 0;\n  }\n  input, textarea {\n   border: 1px solid rgba(7, 16, 28, 0.3);\n   outline: none;\n   padding: 4px;\n   color: @text-color;\n   font-size: 14px;\n   &::placeholder {\n     color: rgba(7, 16, 28, 0.6);\n   }\n   &[disabled] {\n     border-color: transparent;\n     background-color: transparent;\n     text-overflow: ellipsis;\n   }\n  }\n  button {\n   border: 1px solid rgba(7, 16, 28, 0.3);\n   outline: none;\n   padding: 4px;\n   background-color: #fff;\n   color: @text-color;\n   cursor: pointer;\n   &[disabled] {\n     background-color: rgba(7, 16, 28, 0.1);\n     color: rgba(7, 16, 28, 0.6);\n     cursor: default;\n   }\n  }\n  ul {\n   list-style: none;\n   padding: 0;\n   margin: 0;\n  }\n  a {\n   color: rgba(7, 16, 28, 0.9);\n   font-size: 14px;\n   outline: none;\n  }\n  h1 {\n    margin: 0 0 40px;\n  }\n  h2 {\n    margin: 20px 0 10px;\n  }\n  table {\n    border-collapse: collapse;\n  }\n  .container {\n    width: 95%;\n    max-width: 1100px;\n    margin: 0 auto;\n    padding: 40px 0;\n    @media screen and (min-width: @laptop) {\n      max-width: 90%;\n    }\n  }\n  .header {\n    display: flex;\n    justify-content: space-between;\n    padding: 10px;\n  }\n  .modal {\n    text-align: center;\n   &__buttons {\n     margin-top: 20px;\n   }\n  }\n  .pagination {\n   display: flex;\n   justify-content: flex-end;\n   padding: 20px;\n   &__page {\n     width: 20px;\n     margin: 0 5px;\n     text-align: center;\n     &.active {\n       border-radius: 5px;\n       border: 1px solid rgba(7, 16, 28, 0.3);\n     }\n   }\n  }\n  .disabled {\n    a {\n      color: rgba(7, 16, 28, 0.6);\n      cursor: default !important;\n    }\n  }\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=428635fc&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","class Base {\n  constructor(props = { id: '', title: '' }) {\n    const { id, title } = props;\n    this.id = id;\n    this.title = title;\n  }\n}\n\nexport default Base;\n","// eslint-disable-next-line import/prefer-default-export\nexport const baseUrl = 'https://simple-api.sandbox.movavi.com/api/v1/';\n","import axios from 'axios';\nimport Base from '@/classes/Base';\nimport { baseUrl } from '@/env';\n\nconst fields = ['id', 'title', 'parent', 'children', 'messages'];\nconst capitalize = string => string.charAt(0).toUpperCase() + string.slice(1);\n\nclass Category extends Base {\n  constructor(props = {\n    id: '', title: '', parent: '', children: [], messages: [],\n  }) {\n    super(props);\n    this.parent = props.parent || null;\n    this.children = new Set(props.children);\n    this.messages = new Set(props.messages);\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  create(data) {\n    return axios\n      .post(baseUrl, {\n        jsonrpc: '2.0',\n        method: 'createCategory',\n        id: 'test',\n        params: {\n          data,\n        },\n      })\n      .then(res => res.data && res.data.result);\n  }\n\n  delete() {\n    return axios\n      .post(baseUrl, {\n        jsonrpc: '2.0',\n        method: 'deleteCategory',\n        id: 'test',\n        params: {\n          conditions: ['id', '=', this.id],\n        },\n      })\n      .then(res => res.data && res.data.result);\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  update(data) {\n    const { id } = data;\n\n    if (!id) {\n      return Promise.reject(new Error('save requires id'));\n    }\n    return axios\n      .post(baseUrl, {\n        jsonrpc: '2.0',\n        method: 'updateCategory',\n        id: 'test',\n        params: {\n          conditions: ['id', '=', data.id],\n          data,\n        },\n      })\n      .then(res => res.data && res.data.result);\n  }\n\n  static getById(options = {}) {\n    const { id } = options;\n\n    if (!id) {\n      return Promise.reject(new Error('getById requires id'));\n    }\n    return axios\n      .post(baseUrl, {\n        jsonrpc: '2.0',\n        method: 'readCategory',\n        id: 'test',\n        params: {\n          conditions: ['id', '=', id],\n          fields,\n        },\n      })\n      .then(res => res.data && res.data.result && res.data.result.data && res.data.result.data[0]);\n  }\n\n  static getByTitle({ perPage = 10, title, page }) {\n    if (!title) {\n      return Promise.reject(new Error('getByTitle requires title'));\n    }\n    return axios\n      .post(baseUrl, {\n        jsonrpc: '2.0',\n        method: 'readCategory',\n        id: 'test',\n        params: {\n          conditions: {\n            operator: 'or',\n            operand_1: {\n              operator: 'or',\n              operand_1: ['title', 'LIKE', `${title.toLowerCase()}%`],\n              operand_2: ['title', 'LIKE', `${title.toUpperCase()}%`],\n            },\n            operand_2: ['title', 'LIKE', `${capitalize(title)}%`],\n          },\n          page,\n          perPage,\n          fields,\n        },\n      })\n      .then(res => res.data && res.data.result && res.data.result.data && res.data.result.data);\n  }\n\n  static get({ perPage = 10, page, conditions = ['id', 'IS NOT NULL'] }) {\n    return axios\n      .post(baseUrl, {\n        jsonrpc: '2.0',\n        method: 'readCategory',\n        id: 'test',\n        params: {\n          conditions,\n          page,\n          perPage,\n          fields,\n        },\n      })\n      .then(res => res.data && res.data.result);\n  }\n}\n\nexport default Category;\n","import Vue from 'vue';\nimport Vuex from 'vuex';\nimport Category from '@/classes/Category';\n\nVue.use(Vuex);\n\nexport default new Vuex.Store({\n  state: {\n    category: {},\n  },\n  mutations: {\n    SET_CATEGORY(state, payload) {\n      state.category = new Category(payload);\n    },\n  },\n  actions: {\n    setCategory({ commit }, category) {\n      commit('SET_CATEGORY', category);\n    },\n  },\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"categories container\"},[_c('h1',[_vm._v(\"Категории\")]),_c('div',{staticClass:\"header\"},[_c('router-link',{attrs:{\"to\":{ name: 'messages' }}},[_vm._v(\"К сообщениям\")]),_c('router-link',{attrs:{\"to\":{ name: 'categoryEdit', params: { id: '0' } }}},[_vm._v(\"\\n      Создать категорию\\n    \")])],1),_c('Filters',{attrs:{\"title\":_vm.title,\"parent-title\":_vm.parentTitle,\"has-counter\":true,\"messages-count\":_vm.messagesCount},on:{\"update:title\":function($event){_vm.title=$event},\"update:parentTitle\":function($event){_vm.parentTitle=$event},\"update:parent-title\":function($event){_vm.parentTitle=$event},\"update:messagesCount\":function($event){_vm.messagesCount=$event},\"update:messages-count\":function($event){_vm.messagesCount=$event}}}),_c('CategoriesTable',{attrs:{\"categories\":_vm.filteredCategories,\"sort-by\":_vm.sortBy,\"ascending\":_vm.ascending},on:{\"edit\":_vm.goEditCategory,\"select\":_vm.showCategory,\"sort\":_vm.setSorting}}),_c('paginate',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.totalPages),expression:\"totalPages\"}],attrs:{\"page-count\":_vm.totalPages,\"click-handler\":_vm.getPage,\"prev-text\":\"Пред.\",\"next-text\":\"След.\",\"container-class\":\"pagination\",\"page-class\":\"pagination__page\"},model:{value:(_vm.page),callback:function ($$v) {_vm.page=$$v},expression:\"page\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"categories-table__table-wrapper\"},[_c('div',{staticClass:\"categories-table__overflow\"},[_c('table',{staticClass:\"categories-table__table\"},[_c('tr',{staticClass:\"categories-table__head\"},[_c('td',{staticClass:\"categories-table__title\"},[_c('button',{class:['categories-table__sort', { sorted: _vm.sortBy === 'title', ascending: _vm.ascending }],attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.$emit('sort', { sortBy: 'title', ascending: !_vm.ascending })}}},[_vm._v(\"\\n            Название\\n          \")])]),_c('td',[_c('button',{class:['categories-table__sort', { sorted: _vm.sortBy === 'parentTitle', ascending: _vm.ascending }],attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.$emit('sort', { sortBy: 'parentTitle', ascending: !_vm.ascending })}}},[_vm._v(\"\\n            Родительская категория\\n          \")])]),_c('td',{staticClass:\"categories-table__children-column\"},[_c('button',{class:['categories-table__sort', { sorted: _vm.sortBy === 'children', ascending: _vm.ascending }],attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.$emit('sort', { sortBy: 'children', ascending: !_vm.ascending })}}},[_vm._v(\"\\n            Подкатегории\\n          \")])]),_c('td',[_c('button',{class:['categories-table__sort', { sorted: _vm.sortBy === 'messages', ascending: _vm.ascending }],attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.$emit('sort', { sortBy: 'messages', ascending: !_vm.ascending })}}},[_vm._v(\"\\n            Сообщения\\n          \")])]),_c('td')]),_vm._l((_vm.categories),function(category){return _c('tr',{key:category.id,staticClass:\"category-view\",on:{\"click\":function($event){return _vm.onSelect(category.id)}}},[_c('td',{staticClass:\"category-view__title\"},[_vm._v(\"\\n          \"+_vm._s(category.title)+\"\\n        \")]),_c('td',{staticClass:\"category-view__parent\"},[(category.parent)?_c('div',[_vm._v(_vm._s(category.parent.title))]):_vm._e()]),_c('td',{staticClass:\"category-view__children\"},[(category.children)?_c('div',[_vm._v(\"\\n            \"+_vm._s(category.children.size || category.children.length)+\"\\n          \")]):_vm._e()]),_c('td',{staticClass:\"category-view__messages\"},[(category.messages)?_c('div',[_vm._v(\"\\n            \"+_vm._s(category.messages.size || category.messages.length)+\"\\n          \")]):_vm._e()]),_c('td',{staticClass:\"category-view__buttons\"},[_c('router-link',{staticClass:\"category-view__save\",attrs:{\"to\":{ name: 'categoryEdit', params: { id: (\"\" + (category.id)) }}}},[_vm._v(\"\\n            Изменить\\n          \")])],1)])})],2)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"categories-table__table-wrapper\">\n    <div class=\"categories-table__overflow\">\n      <table class=\"categories-table__table\">\n        <tr class=\"categories-table__head\">\n          <td class=\"categories-table__title\">\n            <button\n              :class=\"['categories-table__sort', { sorted: sortBy === 'title', ascending }]\"\n              type=\"button\" @click=\"$emit('sort', { sortBy: 'title', ascending: !ascending })\">\n              Название\n            </button>\n          </td>\n          <td>\n            <button\n              :class=\"['categories-table__sort', { sorted: sortBy === 'parentTitle', ascending }]\"\n              type=\"button\"\n              @click=\"$emit('sort', { sortBy: 'parentTitle', ascending: !ascending })\"\n            >\n              Родительская категория\n            </button>\n          </td>\n          <td class=\"categories-table__children-column\">\n            <button\n              :class=\"['categories-table__sort', { sorted: sortBy === 'children', ascending }]\"\n              type=\"button\" @click=\"$emit('sort', { sortBy: 'children', ascending: !ascending })\">\n              Подкатегории\n            </button>\n          </td>\n          <td>\n            <button\n              :class=\"['categories-table__sort', { sorted: sortBy === 'messages', ascending }]\"\n              type=\"button\" @click=\"$emit('sort', { sortBy: 'messages', ascending: !ascending })\">\n              Сообщения\n            </button>\n          </td>\n          <td></td>\n        </tr>\n        <tr\n          v-for=\"category in categories\"\n          :key=\"category.id\"\n          class=\"category-view\"  @click=\"onSelect(category.id)\">\n          <td class=\"category-view__title\">\n            {{ category.title }}\n          </td>\n          <td class=\"category-view__parent\">\n            <div v-if=\"category.parent\">{{ category.parent.title }}</div>\n          </td>\n          <td class=\"category-view__children\">\n            <div v-if=\"category.children\">\n              {{ category.children.size || category.children.length }}\n            </div>\n          </td>\n          <td class=\"category-view__messages\">\n            <div v-if=\"category.messages\">\n              {{ category.messages.size || category.messages.length }}\n            </div>\n          </td>\n          <td class=\"category-view__buttons\">\n            <router-link\n              class=\"category-view__save\"\n              :to=\"{ name: 'categoryEdit', params: { id: `${category.id}` }}\"\n            >\n              Изменить\n            </router-link>\n          </td>\n        </tr>\n      </table>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    categories: {\n      type: Array,\n      default() {\n        return [];\n      },\n    },\n    sortBy: {\n      type: String,\n      default: 'title',\n    },\n    ascending: {\n      type: Boolean,\n      default: true,\n    },\n  },\n  methods: {\n    onEdit(id) {\n      this.$emit('edit', id);\n    },\n    onSelect(id) {\n      this.$emit('select', id);\n    },\n  },\n};\n</script>\n\n<style lang=\"less\">\n  @import \"../assets/styles/variables\";\n  @row-height: 55px;\n\n  .categories-table {\n    &__table-wrapper {\n      position: relative;\n      padding-left: @table-first-col;\n      @media screen and (min-width: @laptop) {\n        padding-left: 0;\n      }\n    }\n    &__overflow {\n      width: 100%;\n      overflow-x: auto;\n      overflow-y: hidden;\n    }\n    &__table {\n      width: 100%;\n    }\n    &__head {\n      color: @text-color;\n      td {\n        padding: 10px 0;\n      }\n    }\n    &__title {\n      position: absolute;\n      left: 0;\n      top: auto;\n      min-width: @table-first-col;\n      width: @table-first-col;\n      @media screen and (min-width: @laptop) {\n        position: static;\n      }\n    }\n    &__children-column {\n      max-width: 100px;\n      text-align: center;\n    }\n    &__sort {\n      border: none;\n      &.sorted:after {\n        display: inline-block;\n        width: 10px;\n        height: 10px;\n        margin-left: 5px;\n        content: '';\n        background: url('../assets/images/angle.svg') right center/10px no-repeat;\n      }\n      &.ascending {\n        &:after {\n          transform: rotate(180deg);\n        }\n      }\n    }\n  }\n  .category-view {\n    height: 55px;\n    @media screen and (min-width: @laptop) {\n      &:hover {\n        background-color:  rgba(7, 16, 28, 0.1);\n      }\n    }\n    td {\n      padding: 10px 0 4px;\n      vertical-align: baseline;\n    }\n    &__title {\n      position: absolute;\n      left: 0;\n      top: auto;\n      width: @table-first-col;\n      max-width: @table-first-col;\n      height: @row-height;\n      overflow: hidden;\n      text-overflow: ellipsis;\n      @media screen and (min-width: @laptop) {\n        position: static;\n      }\n    }\n    &__input {\n      background-color:  #fff;\n    }\n    &__parent {\n      text-align: left;\n    }\n    &__children {\n      text-align: center;\n    }\n    &__messages {\n      text-align: center;\n    }\n    &__buttons {\n      width: 200px;\n      button {\n        margin: 0 4px;\n      }\n    }\n  }\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CategoriesTable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CategoriesTable.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CategoriesTable.vue?vue&type=template&id=566677d6&\"\nimport script from \"./CategoriesTable.vue?vue&type=script&lang=js&\"\nexport * from \"./CategoriesTable.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CategoriesTable.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('form',{staticClass:\"filters\"},[_c('div',{staticClass:\"filters__header\"},[_vm._v(\"Фильтры для текущей страницы:\")]),_c('div',{staticClass:\"filters__body\"},[_c('label',{staticClass:\"filters__label\"},[_c('span',[_vm._v(\"Название\")]),_c('input',{staticClass:\"filters__input\",attrs:{\"type\":\"text\",\"placeholder\":\"Название\"},domProps:{\"value\":_vm.title},on:{\"input\":_vm.onInputTitle}})]),_c('label',{staticClass:\"filters__label _parent\"},[_c('span',[_vm._v(\"Родительская категория\")]),_c('input',{staticClass:\"filters__input\",attrs:{\"type\":\"text\",\"placeholder\":\"Родительская категория\"},domProps:{\"value\":_vm.parentTitle},on:{\"input\":_vm.onInputParent}})]),(_vm.hasCounter)?_c('label',{staticClass:\"filters__label _counter\"},[_c('span',[_vm._v(\"Количество сообщений\")]),_c('input',{staticClass:\"filters__input _count\",attrs:{\"placeholder\":\"\",\"type\":\"number\",\"min\":\"0\",\"step\":\"1\"},domProps:{\"value\":_vm.messagesCount},on:{\"input\":_vm.onInputCount}})]):_vm._e()])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <form class=\"filters\">\n    <div class=\"filters__header\">Фильтры для текущей страницы:</div>\n    <div class=\"filters__body\">\n      <label class=\"filters__label\">\n        <span>Название</span>\n        <input type=\"text\" :value=\"title\" placeholder=\"Название\"\n               @input=\"onInputTitle\" class=\"filters__input\">\n      </label>\n      <label class=\"filters__label _parent\">\n        <span>Родительская категория</span>\n        <input  type=\"text\" :value=\"parentTitle\" placeholder=\"Родительская категория\"\n                @input=\"onInputParent\" class=\"filters__input\">\n      </label>\n      <label v-if=\"hasCounter\" class=\"filters__label _counter\">\n        <span>Количество сообщений</span>\n        <input\n          placeholder=\"\"\n          :value=\"messagesCount\"\n          type=\"number\"\n          min=\"0\"\n          step=\"1\"\n          @input=\"onInputCount\"\n          class=\"filters__input _count\"\n        >\n      </label>\n\n    </div>\n  </form>\n</template>\n\n<script>\nexport default {\n  name: 'Filters',\n  props: {\n    title: {\n      type: String,\n      default: '',\n    },\n    maxTitleLength: {\n      type: Number,\n      default: 255,\n    },\n    parentTitle: {\n      type: String,\n      default: '',\n    },\n    maxParentLength: {\n      type: Number,\n      default: 255,\n    },\n    messagesCount: {\n      type: Number,\n    },\n    hasCounter: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  methods: {\n    onInputTitle(e) {\n      const trimmed = e.target.value.trim().slice(0, this.maxTitleLength);\n      e.target.value = trimmed;\n      this.$emit('update:title', trimmed);\n    },\n    onInputParent(e) {\n      const trimmed = e.target.value.trim().slice(0, this.maxParentLength);\n      e.target.value = trimmed;\n      this.$emit('update:parentTitle', trimmed);\n    },\n    onInputCount(e) {\n      const { value } = e.target;\n      this.$emit('update:messagesCount', value.length ? +value : null);\n    },\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n  @import \"../assets/styles/variables\";\n\n  .filters {\n    padding: 20px;\n    background-color: rgba(7, 16, 28, 0.1);\n    border-radius: 2px;\n    &__body {\n      display: flex;\n      flex-direction: column;\n      margin-top: 15px;\n      @media screen and (min-width: @tablet) {\n        flex-direction: row;\n        justify-content: space-between;\n      }\n    }\n    &__label {\n      display: flex;\n      flex-direction: column;\n      justify-content: center;\n      align-items: center;\n      margin-top: 10px;\n      @media screen and (min-width: @laptop) {\n        flex-direction: row;\n        justify-content: flex-start;\n      }\n      &._parent {\n        @media screen and (min-width: @laptop) {\n          margin: 10px 10px 0;\n          flex-grow: 1;\n          justify-content: center;\n        }\n      }\n    }\n    &__input {\n      width: 100%;\n      max-width: 220px;\n      margin: 5px 0 0 5px;\n      &._count {\n        width: 80px;\n      }\n    }\n\n  }\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Filters.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Filters.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Filters.vue?vue&type=template&id=d6599868&scoped=true&\"\nimport script from \"./Filters.vue?vue&type=script&lang=js&\"\nexport * from \"./Filters.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Filters.vue?vue&type=style&index=0&id=d6599868&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d6599868\",\n  null\n  \n)\n\nexport default component.exports","export function deepFind(obj, path) {\n  const paths = path.split('.');\n  let current = obj;\n  // eslint-disable-next-line no-plusplus\n  for (let i = 0; i < paths.length; ++i) {\n    if (!current[paths[i]]) {\n      return current[paths[i]];\n    }\n    current = current[paths[i]];\n  }\n  return current;\n}\nexport function compareBy(a, b, path) {\n  const first = deepFind(a, path);\n  const second = deepFind(b, path);\n  if (!first) {\n    return -1;\n  }\n  if (!second) {\n    return 1;\n  }\n  return first.toString().toLowerCase() < second.toString().toLowerCase() ? -1 : 1;\n}\n","<template>\n  <div class=\"categories container\">\n    <h1>Категории</h1>\n    <div class=\"header\">\n      <router-link :to=\"{ name: 'messages' }\">К сообщениям</router-link>\n      <router-link :to=\"{ name: 'categoryEdit', params: { id: '0' } }\">\n        Создать категорию\n      </router-link>\n    </div>\n    <Filters\n      :title.sync=\"title\"\n      :parent-title.sync=\"parentTitle\"\n      :has-counter=\"true\"\n      :messages-count.sync=\"messagesCount\"\n    />\n    <CategoriesTable\n        :categories=\"filteredCategories\"\n        :sort-by=\"sortBy\"\n        :ascending=\"ascending\"\n        @edit=\"goEditCategory\"\n        @select=\"showCategory\"\n        @sort=\"setSorting\"\n    />\n\n    <paginate\n      v-show=\"totalPages\"\n      v-model=\"page\"\n      :page-count=\"totalPages\"\n      :click-handler=\"getPage\"\n      prev-text=\"Пред.\"\n      next-text=\"След.\"\n      container-class=\"pagination\"\n      page-class=\"pagination__page\"\n      >\n    </paginate>\n  </div>\n</template>\n\n<script>\nimport { mapActions } from 'vuex';\nimport Paginate from 'vuejs-paginate';\nimport CategoriesTable from '@/components/CategoriesTable.vue';\nimport Category from '@/classes/Category';\nimport Filters from '@/components/Filters.vue';\nimport { compareBy } from '@/utils';\n\nexport default {\n  name: 'Categories',\n  components: {\n    CategoriesTable,\n    Filters,\n    Paginate,\n  },\n  data() {\n    return {\n      categories: [],\n      page: 0,\n      totalPages: 0,\n      title: '',\n      parentTitle: '',\n      messagesCount: null,\n      sortBy: 'title',\n      ascending: true,\n    };\n  },\n  computed: {\n    filteredCategories() {\n      const { title, parentTitle, messagesCount } = this;\n      const normalizedTitle = title.toLowerCase();\n      const normalizedParent = parentTitle.toLowerCase();\n      let path;\n\n      // eslint-disable-next-line default-case\n      switch (this.sortBy) {\n        case 'title':\n          path = 'title';\n          break;\n        case 'parentTitle':\n          path = 'parent.title';\n          break;\n        case 'children':\n          path = 'children.size';\n          break;\n        case 'messages':\n          path = 'messages.size';\n          break;\n      }\n\n      return this.categories.filter((c) => {\n        let res = true;\n\n        if (normalizedTitle) {\n          res = c.title.toLowerCase().includes(normalizedTitle);\n        }\n        if (normalizedParent) {\n          res = res && c.parent && c.parent.title.toLowerCase().includes(normalizedParent);\n        }\n        if (typeof messagesCount === 'number') {\n          res = res && (c.messages.size === messagesCount);\n        }\n        return res;\n      }).sort((a, b) => (this.ascending ? compareBy(a, b, path) : compareBy(b, a, path)));\n    },\n  },\n  created() {\n    this.getCategories();\n  },\n  methods: {\n    ...mapActions([\n      'setCategory',\n    ]),\n    goEditCategory(id) {\n      this.$router.push({ name: 'categoryEdit', params: { id: `${id}` } });\n    },\n    getCategories(params = {}) {\n      let hasParents;\n\n      return Category.get(params)\n        .then(({ data, totalPages, page }) => {\n          this.categories = data.map(d => new Category(d));\n          this.totalPages = totalPages;\n          this.page = page;\n        })\n        .then(() => {\n          hasParents = this.categories.filter(c => !!c.parent);\n          return Category.get({\n            conditions: ['id', 'IN', [...new Set(hasParents.map(c => c.parent.id))]],\n          });\n        })\n        .then(({ data }) => {\n          hasParents.forEach((c) => {\n            const parent = data.find(cat => cat.id === c.parent.id);\n            const index = this.categories.findIndex(cat => cat.id === c.id);\n            this.$set(this.categories, index, new Category(Object.assign({}, c, { parent })));\n          });\n        });\n    },\n    getPage(page) {\n      this.getCategories({ page });\n    },\n    setSorting({ sortBy, ascending }) {\n      this.sortBy = sortBy;\n      this.ascending = ascending;\n    },\n    showCategory(id) {\n      const cat = this.categories.find(c => c.id === id);\n      this.setCategory(cat);\n      this.$router.push({ name: 'categoryMessages', params: { id: `${id}` } });\n    },\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n  @import \"../assets/styles/variables\";\n  .categories {\n    .filters {\n      margin-top: 30px;\n    }\n  }\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Categories.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Categories.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Categories.vue?vue&type=template&id=41758223&scoped=true&\"\nimport script from \"./Categories.vue?vue&type=script&lang=js&\"\nexport * from \"./Categories.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Categories.vue?vue&type=style&index=0&id=41758223&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"41758223\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{key:_vm.id,staticClass:\"category-edit container\"},[(_vm.isEditing)?_c('h2',[_vm._v(_vm._s(_vm.id === '0'? 'Создание' : 'Редактирование')+\" категории\")]):_c('h2',[_vm._v(\"Категория\")]),_c('h1',{staticClass:\"category-edit__page-title\"},[_vm._v(_vm._s(_vm.category.title))]),_c('div',{staticClass:\"category-edit__top\"},[_c('div',{staticClass:\"category-edit__title\"},[_c('label',[_c('div',[_vm._v(\"Название\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.title),expression:\"title\"}],staticClass:\"category-edit__input\",attrs:{\"disabled\":!_vm.isEditing},domProps:{\"value\":(_vm.title)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.title=$event.target.value}}}),_c('div',{class:['error', { visible: _vm.$v && _vm.$v.title && _vm.$v.title.$invalid }]},[_vm._v(\"\\n          Слишком длинное название\\n        \")])])]),_c('div',{staticClass:\"category-edit__parent\"},[(_vm.isEditing)?_c('SearchSelect',{attrs:{\"searching-value\":_vm.parentTitle,\"searching-prop\":\"title\",\"options\":_vm.parents,\"required\":false,\"label\":\"Название родительской категории\"},on:{\"input\":_vm.onInputParent,\"blur\":_vm.onBlur,\"select\":_vm.onSelectParent,\"error\":function($event){_vm.parentError = $event}},scopedSlots:_vm._u([{key:\"default\",fn:function(slotProps){return [_c('div',[_vm._v(\"\\n            \"+_vm._s(slotProps.option.title)+\"\\n          \")])]}}],null,false,227483608)}):_c('div',[_c('span',[_vm._v(\"Родительская категория:\")]),_c('div',[_vm._v(_vm._s(_vm.category.parent && _vm.category.parent.title))])]),_c('div',{class:[ 'error', { visible: !!_vm.parentError } ]},[_vm._v(_vm._s(_vm.parentError))])],1)]),_c('div',{staticClass:\"category-edit__children\"},[(_vm.children)?[_c('h2',[_vm._v(\"\\n        Количество подкатегорий: \"+_vm._s(_vm.children.length)+\"\\n      \")]),(_vm.children.length)?_c('CategoriesTable',{attrs:{\"categories\":_vm.children},on:{\"edit\":_vm.goEditCategory}}):_vm._e()]:_vm._e()],2),_c('div',{staticClass:\"category-edit__messages\"},[(_vm.category.messages)?_c('h2',[_vm._v(\"Количество сообщений: \"+_vm._s(_vm.category.messages.size))]):_vm._e(),(_vm.id !== '0')?_c('router-link',{attrs:{\"to\":{ name: 'categoryMessages', params: { id: _vm.id } }}},[_vm._v(\"\\n      К сообщениям категории\\n    \")]):_vm._e()],1),(_vm.isEditing)?_c('div',{staticClass:\"category-edit__buttons\"},[_c('button',{staticClass:\"category-edit__save\",attrs:{\"disabled\":_vm.saveDisabled,\"type\":\"button\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.debouncedSave($event)}}},[_vm._v(\"\\n      Сохранить\\n    \")]),(_vm.category.id)?_c('button',{staticClass:\"category-edit__save\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.isModalVisible = true}}},[_vm._v(\"\\n      Удалить\\n    \")]):_vm._e(),_c('button',{staticClass:\"category-edit__cancel\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.onCancel($event)}}})]):_c('div',[_c('button',{staticClass:\"category-edit__edit\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){$event.stopPropagation();_vm.isEditing = true}}},[_vm._v(\"\\n      Изменить\\n    \")])]),_c('simple-modal',{staticClass:\"modal\",attrs:{\"size\":\"small\",\"title\":\"Действительно удалить?\"},model:{value:(_vm.isModalVisible),callback:function ($$v) {_vm.isModalVisible=$$v},expression:\"isModalVisible\"}},[(!_vm.isSecondConfirmVisible)?_c('template',{slot:\"body\"},[_c('div',[_vm._v(\"Пожалуйста, подтвердите удаление\")]),_c('div',{staticClass:\"modal__buttons\"},[_c('button',{attrs:{\"type\":\"button\"},on:{\"click\":_vm.doubleCheck}},[_vm._v(\"Удалить\")])])]):_c('template',{slot:\"body\"},[_c('div',[_vm._v(\"Данная категория содержит сообщения или другие категории\")]),_c('div',{staticClass:\"modal__buttons\"},[_c('button',{attrs:{\"type\":\"button\"},on:{\"click\":_vm.debouncedDelete}},[_vm._v(\"Все равно удалить\")])])])],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"search-select\"},[_c('label',[_c('span',[_vm._v(_vm._s(_vm.label))]),_c('input',{staticClass:\"search-select__input\",attrs:{\"placeholder\":_vm.placeholder},domProps:{\"value\":_vm.searchingValue},on:{\"focus\":_vm.showDropdown,\"input\":_vm.onInput,\"blur\":_vm.onBlur}})]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.visible && _vm.filteredOptions && _vm.filteredOptions.length),expression:\"visible && filteredOptions && filteredOptions.length\"}],staticClass:\"search-select__dropdown\",attrs:{\"tabindex\":\"0\"},on:{\"blur\":_vm.closeDropdown,\"scroll\":function($event){_vm.isScrolling = true}}},_vm._l((_vm.filteredOptions),function(option,i){return _c('div',{key:i,class:['search-select__item'],on:{\"mousedown\":function($event){return _vm.select(option)}}},[_vm._t(\"default\",[_vm._v(\"\\n        \"+_vm._s(option)+\"\\n      \")],{\"option\":option})],2)}),0)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"search-select\">\n    <label>\n      <span>{{ label }}</span>\n      <input\n        :value=\"searchingValue\"\n        :placeholder=\"placeholder\"\n        class=\"search-select__input\"\n        @focus=\"showDropdown\"\n        @input=\"onInput\"\n        @blur=\"onBlur\"\n      />\n    </label>\n    <div\n      v-show=\"visible && filteredOptions && filteredOptions.length\"\n      class=\"search-select__dropdown\"\n      tabindex=\"0\"\n      @blur=\"closeDropdown\"\n      @scroll=\"isScrolling = true\"\n    >\n      <div\n        v-for=\"(option, i) in filteredOptions\"\n        :key=\"i\"\n        :class=\"['search-select__item']\"\n        @mousedown=\"select(option)\"\n      >\n        <slot :option=\"option\">\n          {{ option }}\n        </slot>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nfunction deepFind(obj, path) {\n  const paths = path.split('.');\n  let current = obj;\n\n  // eslint-disable-next-line no-plusplus\n  for (let i = 0; i < paths.length; ++i) {\n    if (!current[paths[i]]) {\n      return current[paths[i]];\n    }\n    current = current[paths[i]];\n  }\n  return current;\n}\n\nexport default {\n  model: {\n    prop: 'searchingValue',\n    event: 'input',\n  },\n  props: {\n    label: {\n      type: String,\n      default: '',\n    },\n    searchingValue: {\n      type: String,\n      default: '',\n    },\n    searchingProp: {\n      type: String,\n      default: '',\n    },\n    options: {\n      type: Array,\n      default() {\n        return [];\n      },\n    },\n    required: {\n      type: Boolean,\n      default: true,\n    },\n    placeholder: {\n      type: String,\n      default: '',\n    },\n    maxLength: {\n      type: Number,\n      default: 255,\n    },\n  },\n  data() {\n    return {\n      isScrolling: false,\n      visible: false,\n      rules: {\n        maxLength: value => !value || (value.length <= this.maxLength),\n      },\n      selected: null,\n    };\n  },\n  computed: {\n    filteredOptions() {\n      if (!this.searchingValue || !this.options) {\n        return [];\n      }\n      const searchString = this.searchingValue.trim().toLowerCase();\n      if (this.searchingProp) {\n        return this.options\n          .filter(option => deepFind(option, this.searchingProp)\n            .toLowerCase()\n            .includes(searchString));\n      }\n\n      return this.options.filter(option => option.toLowerCase().includes(searchString));\n    },\n  },\n  methods: {\n    closeDropdown() {\n      this.visible = false;\n      this.isScrolling = false;\n    },\n    onBlur(event) {\n      this.validate(event.target.value);\n      this.$emit('blur', event);\n      setTimeout(() => {\n        if (!this.isScrolling) {\n          this.closeDropdown();\n        }\n      }, 50);\n    },\n    onInput(e) {\n      const { value } = e.target;\n      this.visible = true;\n      this.validate(value);\n      this.$emit('input', value);\n    },\n    select(option) {\n      this.closeDropdown();\n      this.$emit('select', option);\n    },\n    validate(value) {\n      if (this.required && !value) {\n        this.$emit('error', 'Необходимо заполнить все обязательные поля');\n        return false;\n      }\n      if (!this.rules.maxLength(value)) {\n        this.$emit('error', 'Слишком длинный текст');\n        return false;\n      }\n      this.$emit('error', '');\n      return true;\n    },\n    showDropdown() {\n      if (this.searchingValue && this.filteredOptions.length) {\n        this.visible = true;\n      }\n    },\n  },\n};\n</script>\n\n<style lang=\"less\">\n  .search-select {\n    position: relative;\n\n    &__input {\n      width: 100%;\n      margin-top: 5px;\n    }\n    &__dropdown {\n      position: absolute;\n      top: 100%;\n      left: 0;\n      width: 100%;\n      max-height: 220px;\n      overflow-y: auto;\n      background: #fff;\n      z-index: 1000000;\n    }\n    &__item {\n      cursor: pointer;\n      padding: 6px 0 5px 32px;\n      text-align: left;\n      background: rgba(137, 149, 175, 0.1);\n      color: #8995af;\n      font-family: Lato, sans-serif;\n      font-style: normal;\n      font-weight: normal;\n      font-size: 14px;\n      line-height: normal;\n      transition: background-color 0.4s 0s;\n      &:hover {\n        background: rgba(137, 149, 175, 0.2);\n      }\n    }\n  }\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchSelect.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchSelect.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SearchSelect.vue?vue&type=template&id=1740f353&\"\nimport script from \"./SearchSelect.vue?vue&type=script&lang=js&\"\nexport * from \"./SearchSelect.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SearchSelect.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { debounce } from 'lodash';\n\nexport default {\n  data() {\n    return {\n      parentError: '',\n      parent: null,\n      parents: [],\n      parentTitle: '',\n    };\n  },\n  created() {\n    if (this.init) {\n      this.init();\n    }\n    this.debouncedsearchParent = debounce(this.searchParent, 300);\n  },\n  methods: {\n    onBlur(e) {\n      if (this.parentError) {\n        return;\n      }\n      if (e.target && e.target.value && !this.parent) {\n        this.parentError = 'Проверьте корректность ввода';\n      }\n    },\n    onInputParent(val) {\n      this.parentTitle = val.trim();\n      this.parent = null;\n      if (!this.parentError) {\n        this.debouncedsearchParent(this.parentTitle);\n      }\n    },\n    onSelectParent(category) {\n      this.parentError = '';\n      this.parentTitle = category.title;\n      this.parent = category;\n    },\n  },\n};\n","<template>\n  <div :key=\"id\" class=\"category-edit container\">\n    <h2 v-if=\"isEditing\">{{ id === '0'? 'Создание' : 'Редактирование' }} категории</h2>\n    <h2 v-else >Категория</h2>\n    <h1 class=\"category-edit__page-title\">{{ category.title }}</h1>\n    <div class=\"category-edit__top\">\n      <div class=\"category-edit__title\">\n        <label>\n          <div>Название</div>\n          <input v-model=\"title\" :disabled=\"!isEditing\" class=\"category-edit__input\" />\n          <div :class=\"['error', { visible: $v && $v.title && $v.title.$invalid }]\">\n            Слишком длинное название\n          </div>\n        </label>\n      </div>\n      <div class=\"category-edit__parent\">\n        <SearchSelect\n          v-if=\"isEditing\"\n          :searching-value=\"parentTitle\"\n          searching-prop=\"title\"\n          :options=\"parents\"\n          :required=\"false\"\n          label=\"Название родительской категории\"\n          @input=\"onInputParent\"\n          @blur=\"onBlur\"\n          @select=\"onSelectParent\"\n          @error=\"parentError = $event\"\n        >\n          <template v-slot:default=\"slotProps\">\n            <div>\n              {{ slotProps.option.title }}\n            </div>\n          </template>\n        </SearchSelect>\n        <div v-else>\n          <span>Родительская категория:</span>\n          <div>{{ category.parent && category.parent.title }}</div>\n        </div>\n        <div :class=\"[ 'error', { visible: !!parentError } ]\" >{{ parentError }}</div>\n      </div>\n    </div>\n    <div class=\"category-edit__children\">\n      <template  v-if=\"children\">\n        <h2>\n          Количество подкатегорий: {{ children.length }}\n        </h2>\n        <CategoriesTable\n          v-if=\"children.length\"\n          :categories=\"children\"\n          @edit=\"goEditCategory\"\n          />\n      </template>\n    </div>\n    <div class=\"category-edit__messages\">\n      <h2 v-if=\"category.messages\">Количество сообщений: {{ category.messages.size }}</h2>\n      <router-link v-if=\"id !== '0'\" :to=\"{ name: 'categoryMessages', params: { id } }\">\n        К сообщениям категории\n      </router-link>\n    </div>\n    <div v-if=\"isEditing\" class=\"category-edit__buttons\">\n      <button\n        class=\"category-edit__save\"\n        :disabled=\"saveDisabled\"\n        type=\"button\"\n        @click.stop=\"debouncedSave\"\n      >\n        Сохранить\n      </button>\n      <button\n        v-if=\"category.id\"\n        class=\"category-edit__save\"\n        type=\"button\"\n        @click=\"isModalVisible = true\"\n      >\n        Удалить\n      </button>\n      <button class=\"category-edit__cancel\"  type=\"button\" @click.stop=\"onCancel\">\n      </button>\n    </div>\n    <div v-else>\n      <button class=\"category-edit__edit\" type=\"button\" @click.stop=\"isEditing = true\">\n        Изменить\n      </button>\n    </div>\n    <simple-modal\n      v-model=\"isModalVisible\"\n      size=\"small\"\n      title=\"Действительно удалить?\"\n      class=\"modal\">\n      <template v-if=\"!isSecondConfirmVisible\" slot=\"body\">\n        <div>Пожалуйста, подтвердите удаление</div>\n        <div class=\"modal__buttons\">\n          <button type=\"button\" @click=\"doubleCheck\">Удалить</button>\n        </div>\n      </template>\n      <template v-else slot=\"body\">\n        <div>Данная категория содержит сообщения или другие категории</div>\n        <div class=\"modal__buttons\">\n          <button type=\"button\" @click=\"debouncedDelete\">Все равно удалить</button>\n        </div>\n      </template>\n    </simple-modal>\n  </div>\n</template>\n\n<script>\nimport { mapActions, mapState } from 'vuex';\nimport { debounce } from 'lodash';\nimport SimpleModal from 'simple-modal-vue';\nimport { maxLength } from 'vuelidate/lib/validators';\nimport SearchSelect from '@/components/SearchSelect.vue';\nimport searchCategory from '@/mixins/searchCategory';\nimport Category from '@/classes/Category';\nimport CategoriesTable from '@/components/CategoriesTable.vue';\n\nexport default {\n  mixins: [searchCategory],\n  components: { CategoriesTable, SearchSelect, SimpleModal },\n  props: {\n    id: {\n      type: String,\n      required: true,\n    },\n  },\n  validations() {\n    return {\n      title: {\n        maxLength: maxLength(255),\n      },\n    };\n  },\n  data() {\n    return {\n      title: '',\n      children: [],\n      messages: [],\n      isModalVisible: false,\n      isSecondConfirmVisible: false,\n      isEditing: true,\n    };\n  },\n  computed: {\n    ...mapState({\n      category: state => state.category,\n    }),\n    saveDisabled() {\n      if (!this.$v) {\n        return true;\n      }\n      const { $v } = this;\n\n      return ($v && $v.title && $v.title.$invalid) || !!this.parentError;\n    },\n    showNextConfirm() {\n      return this.category\n        && this.category.children\n        && this.category.messages\n        && (this.category.children.size || this.category.messages.size);\n    },\n  },\n  watch: {\n    id: {\n      deep: true,\n      handler(newVal, oldVal) {\n        if (oldVal !== '0') {\n          this.initializeCategory();\n        }\n      },\n    },\n    category: {\n      deep: true,\n      handler(newVal, oldVal) {\n        if (newVal.parent && newVal.parent.title && (!oldVal.parent || !oldVal.parent.title)) {\n          this.parent = newVal.parent;\n          this.parentTitle = newVal.parent.title;\n        }\n      },\n    },\n  },\n  created() {\n    this.debouncedSave = debounce(this.saveCategory, 300);\n    this.debouncedDelete = debounce(this.deleteCategory, 300);\n    this.initializeCategory();\n  },\n  methods: {\n    ...mapActions([\n      'setCategory',\n    ]),\n    initializeCategory() {\n      Category.getById({ id: this.id })\n        .then((res) => {\n          this.setCategory(new Category(res));\n          const {\n            title, parent, messages,\n          } = this.category;\n          this.title = title;\n          this.messages = messages;\n\n          if (parent) {\n            this.getParent();\n          } else {\n            this.parent = null;\n            this.parentTitle = '';\n          }\n          this.getChildren();\n        });\n    },\n    doubleCheck() {\n      if (this.showNextConfirm && !this.isSecondConfirmVisible) {\n        this.isSecondConfirmVisible = true;\n        return;\n      }\n      this.deleteCategory();\n    },\n    deleteCategory() {\n      this.category.delete()\n        .then(() => {\n          this.isModalVisible = false;\n          this.isSecondConfirmVisible = false;\n          this.$router.go(-1);\n        });\n    },\n    getChildren() {\n      const p = [];\n      this.category.children.forEach((c) => {\n        p.push(Category.getById({ id: c.id }));\n      });\n      return Promise.all(p)\n        .then((data) => {\n          this.children = data;\n          this.children.forEach((c) => {\n            // eslint-disable-next-line no-param-reassign\n            c.parent = this.category;\n          });\n        });\n    },\n    getParent() {\n      if (!this.category || !this.category.parent) {\n        return;\n      }\n      Category.getById({ id: this.category.parent.id })\n        .then((res) => {\n          this.parent = new Category(res);\n          this.parentTitle = this.parent.title;\n        });\n    },\n    goEditCategory(id) {\n      this.$router.push({ name: 'categoryEdit', params: { id: `${id}` } });\n    },\n    onCancel() {\n      this.$router.go(-1);\n    },\n    saveCategory() {\n      const {\n        id, title, parent, children, messages,\n      } = this;\n      const clientData = {\n        id,\n        title,\n        children,\n        messages,\n        parent,\n      };\n      const savingData = {\n        id,\n        title,\n        messages,\n      };\n\n      savingData.parent = parent ? { id: parent.id } : null;\n      savingData.children = children.length ? children.map(c => ({ id: c.id })) : [];\n      if (this.id !== '0') {\n        this.category.update(savingData)\n          .then(() => {\n            this.setCategory(clientData);\n            this.isEditing = false;\n          });\n        return;\n      }\n\n      const newCategory = new Category(clientData);\n      newCategory.create(savingData)\n        .then((res) => {\n          this.isEditing = false;\n          const primaryKey = res['Primary key'];\n          clientData.id = primaryKey.id;\n          this.setCategory(clientData);\n          this.$router.replace({\n            name: 'categoryEdit',\n            params: {\n              id: `${primaryKey.id}`,\n            },\n          });\n        });\n    },\n    searchParent(title) {\n      if (!title) {\n        return;\n      }\n      Category.getByTitle({ title }).then((res) => {\n        this.parents = res.filter(c => c.id !== this.category.id);\n      });\n    },\n  },\n};\n</script>\n\n<style lang=\"less\">\n  @import \"../assets/styles/variables\";\n\n  .category-edit {\n    &__page-title {\n      overflow: hidden;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n    }\n    &__top {\n      @media screen and (min-width: @laptop) {\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n      }\n    }\n    &__title,\n    &__parent {\n      width: 48%;\n      max-width: 420px;\n      margin-top: 20px;\n    }\n    input {\n      margin-top: 5px;\n    }\n    &__input {\n      width: 100%;\n      background-color:  #fff;\n    }\n    &__parent {\n      text-align: left;\n    }\n    &__buttons {\n      width: 200px;\n      margin-top: 30px;\n      button {\n        margin: 0 4px;\n      }\n    }\n    &__cancel {\n      width: 20px;\n      height: 20px;\n      background: url('../assets/images/close.svg') center/14px no-repeat #fff;\n    }\n    .error {\n      opacity: 0;\n      height: 14px;\n      color: transparent;\n      font-size: 12px;\n      &.visible {\n        opacity: 1;\n        color: red;\n      }\n    }\n    .search-select {\n      text-align: left;\n    }\n  }\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CategoryEdit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CategoryEdit.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CategoryEdit.vue?vue&type=template&id=eb2f80b2&\"\nimport script from \"./CategoryEdit.vue?vue&type=script&lang=js&\"\nexport * from \"./CategoryEdit.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CategoryEdit.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"messages container\"},[(_vm.id)?_c('h1',{staticClass:\"messages__title\"},[_vm._v(\"Сообщения категории \"+_vm._s(_vm.category.title))]):_c('h1',[_vm._v(\"Сообщения\")]),_c('div',{staticClass:\"header\"},[_c('router-link',{attrs:{\"to\":{ name: 'categories' }}},[_vm._v(\"К категориям\")]),_c('router-link',{attrs:{\"to\":{ name: 'messageEdit', params: { id: '0'} }}},[_vm._v(\"Создать сообщение\")])],1),(_vm.messages.length)?_c('Filters',{attrs:{\"title\":_vm.title,\"parent-title\":_vm.parentTitle,\"max-title-length\":1024,\"messages-count\":_vm.messagesCount},on:{\"update:title\":function($event){_vm.title=$event},\"update:parentTitle\":function($event){_vm.parentTitle=$event},\"update:parent-title\":function($event){_vm.parentTitle=$event},\"update:messagesCount\":function($event){_vm.messagesCount=$event},\"update:messages-count\":function($event){_vm.messagesCount=$event}}}):_vm._e(),(_vm.messages.length)?_c('table',{staticClass:\"messages__table\"},[_c('tr',{staticClass:\"messages__head\"},[_c('td',[_c('button',{class:['messages__sort', { sorted: _vm.sortBy === 'title', ascending: _vm.ascending }],attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.sortBy = 'title'; _vm.ascending = !_vm.ascending}}},[_vm._v(\"\\n          Название\\n        \")])]),_c('td',[_c('button',{class:['messages__sort', { sorted: _vm.sortBy === 'parentTitle', ascending: _vm.ascending }],attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.sortBy = 'parentTitle'; _vm.ascending = !_vm.ascending}}},[_vm._v(\"\\n          Родительская категория\\n        \")])]),_c('td',{staticClass:\"messages__body-column\"},[_c('button',{class:['messages__sort', { sorted: _vm.sortBy === 'body', ascending: _vm.ascending }],attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.sortBy = 'body'; _vm.ascending = !_vm.ascending}}},[_vm._v(\"\\n          Содержимое\\n        \")])]),_c('td')]),_vm._l((_vm.filteredMessages),function(message){return _c(\"MessageView\",{key:message.id,tag:\"tr\",attrs:{\"is-change-disabled\":false,\"message\":message},on:{\"edit\":function($event){return _vm.$router.push({ name: 'messageEdit', params: { id: (\"\" + (message.id)) } })}}})})],2):_vm._e(),_c('paginate',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.totalPages),expression:\"totalPages\"}],attrs:{\"page-count\":_vm.totalPages,\"click-handler\":_vm.getPage,\"prev-text\":\"Пред.\",\"next-text\":\"След.\",\"container-class\":\"pagination\",\"page-class\":\"pagination__page\"},model:{value:(_vm.page),callback:function ($$v) {_vm.page=$$v},expression:\"page\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('tr',{staticClass:\"message-view\"},[_c('td',{staticClass:\"message-view__title\"},[_vm._v(\"\\n    \"+_vm._s(_vm.message.title)+\"\\n  \")]),_c('td',{staticClass:\"message-view__parent\"},[_vm._v(\"\\n    \"+_vm._s(_vm.message.category.title)+\"\\n  \")]),_c('td',{staticClass:\"message-view__text\"},[_c('div',{staticClass:\"message-view__textarea\"},[_vm._v(_vm._s(_vm.message.body))])]),_c('td',{staticClass:\"message-view__buttons\"},[_c('router-link',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isChangeDisabled),expression:\"!isChangeDisabled\"}],staticClass:\"message-view__save\",attrs:{\"to\":{ name: 'messageEdit', params: { id: (\"\" + (_vm.message.id)) } }}},[_vm._v(\"\\n      Изменить\\n    \")])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <tr class=\"message-view\">\n    <td class=\"message-view__title\">\n      {{ message.title }}\n    </td>\n    <td class=\"message-view__parent\">\n      {{ message.category.title}}\n    </td>\n    <td class=\"message-view__text\">\n      <div class=\"message-view__textarea\">{{ message.body }}</div>\n    </td>\n    <td class=\"message-view__buttons\">\n      <router-link\n        v-show=\"!isChangeDisabled\"\n        class=\"message-view__save\"\n        :to=\"{ name: 'messageEdit', params: { id: `${message.id}` } }\"\n      >\n        Изменить\n      </router-link>\n    </td>\n  </tr>\n</template>\n\n<script>\nexport default {\n  props: {\n    message: {\n      type: Object,\n      default() {\n        return {\n          title: '',\n        };\n      },\n    },\n    isChangeDisabled: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  methods: {\n    onEdit() {\n      this.$emit('edit', this.message.id);\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"less\">\n  @import \"../assets/styles/variables\";\n\n  .message-view {\n    &:hover {\n      background-color:  rgba(7, 16, 28, 0.1);\n    }\n    &.active {\n      background-color:  rgba(7, 16, 28, 0.1);\n    }\n    td {\n      padding: 4px;\n      vertical-align: top;\n    }\n    &__title {\n      max-width: 130px;\n      overflow: hidden;\n      white-space: nowrap;\n      text-overflow: ellipsis;\n      @media screen and (min-width: @laptop) {\n        max-width: 300px;\n      }\n    }\n    &__parent {\n      max-width: 80px;\n      text-align: left;\n      overflow: hidden;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n      @media screen and (min-width: @tablet) {\n        max-width: 200px;\n      }\n      @media screen and (min-width: @laptop) {\n        max-width: 300px;\n      }\n    }\n    &__text {\n      display: none;\n      @media screen and (min-width: @tablet) {\n       display: table-cell;\n      }\n    }\n    &__textarea {\n      max-width: 200px;\n      height: 58px;\n      overflow: hidden;\n      text-overflow: ellipsis;\n      @media screen and (min-width: @laptop) {\n        max-width: 250px;\n      }\n      @media screen and (min-width: 1200px) {\n        max-width: 400px;\n      }\n    }\n    &__buttons {\n      width: 200px;\n      button {\n        margin: 0 4px;\n      }\n    }\n    &__cancel {\n      width: 20px;\n      height: 20px;\n      background: url('../assets/images/close.svg') center/14px no-repeat #fff;\n    }\n    .error {\n      opacity: 0;\n      height: 14px;\n      color: transparent;\n      font-size: 12px;\n      &.visible {\n        opacity: 1;\n        color: red;\n      }\n    }\n    .search-select {\n      text-align: left;\n    }\n  }\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MessageView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MessageView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MessageView.vue?vue&type=template&id=6d3cfcb2&scoped=true&\"\nimport script from \"./MessageView.vue?vue&type=script&lang=js&\"\nexport * from \"./MessageView.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MessageView.vue?vue&type=style&index=0&id=6d3cfcb2&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6d3cfcb2\",\n  null\n  \n)\n\nexport default component.exports","import axios from 'axios';\nimport Base from '@/classes/Base';\nimport { baseUrl } from '@/env';\n\nclass Message extends Base {\n  constructor(props = {\n    id: '', title: '', body: '', category: '',\n  }) {\n    super(props);\n    this.body = props.body || '';\n    this.category = props.category;\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  create(data) {\n    return axios\n      .post(baseUrl, {\n        jsonrpc: '2.0',\n        method: 'createMessage',\n        id: 'test',\n        params: {\n          data,\n        },\n      })\n      .then(res => res.data && res.data.result);\n  }\n\n  delete() {\n    return axios\n      .post(baseUrl, {\n        jsonrpc: '2.0',\n        method: 'deleteMessage',\n        id: 'test',\n        params: {\n          conditions: ['id', '=', this.id],\n        },\n      })\n      .then(res => res.data && res.data.result);\n  }\n\n  static getById(options = { perPage: 10 }) {\n    const { id } = options;\n\n    if (!id) {\n      return Promise.reject(new Error('get Message by id requires id'));\n    }\n    return axios\n      .post(baseUrl, {\n        jsonrpc: '2.0',\n        method: 'readMessage',\n        id: 'test',\n        params: {\n          conditions: ['id', '=', id],\n        },\n      })\n      .then(res => res.data && res.data.result && res.data.result.data && res.data.result.data[0]);\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  update(data) {\n    const { id } = data;\n\n    if (!id) {\n      return Promise.reject(new Error('save requires id'));\n    }\n    return axios\n      .post(baseUrl, {\n        jsonrpc: '2.0',\n        method: 'updateMessage',\n        id: 'test',\n        params: {\n          conditions: ['id', '=', data.id],\n          data,\n        },\n      })\n      .then(res => res.data && res.data.result);\n  }\n\n  static get({ perPage = 10, page, conditions = ['id', 'IS NOT NULL'] }) {\n    return axios\n      .post(baseUrl, {\n        jsonrpc: '2.0',\n        method: 'readMessage',\n        id: 'test',\n        params: {\n          conditions,\n          page,\n          perPage,\n        },\n      })\n      .then(res => res.data && res.data.result);\n  }\n\n  static getMessagesOf({ perPage = 10, page, categoryId }) {\n    if (!categoryId) {\n      return Promise.reject(new Error('getMessagesOf requires Category id'));\n    }\n    return axios\n      .post(baseUrl, {\n        jsonrpc: '2.0',\n        method: 'readMessage',\n        id: 'test',\n        params: {\n          conditions: ['category', '=', categoryId],\n          page,\n          perPage,\n        },\n      })\n      .then(res => res.data && res.data.result);\n  }\n}\n\nexport default Message;\n","<template>\n  <div class=\"messages container\">\n    <h1 v-if=\"id\" class=\"messages__title\">Сообщения категории {{ category.title }}</h1>\n    <h1 v-else>Сообщения</h1>\n    <div class=\"header\">\n      <router-link :to=\"{ name: 'categories' }\">К категориям</router-link>\n      <router-link :to=\"{ name: 'messageEdit', params: { id: '0'} }\">Создать сообщение</router-link>\n    </div>\n    <Filters\n      v-if=\"messages.length\"\n      :title.sync=\"title\"\n      :parent-title.sync=\"parentTitle\"\n      :max-title-length=\"1024\"\n      :messages-count.sync=\"messagesCount\"\n    />\n    <table v-if=\"messages.length\" class=\"messages__table\">\n      <tr class=\"messages__head\">\n        <td>\n          <button\n            :class=\"['messages__sort', { sorted: sortBy === 'title', ascending }]\"\n            type=\"button\" @click=\"sortBy = 'title'; ascending = !ascending\">\n            Название\n          </button>\n        </td>\n        <td>\n          <button\n            :class=\"['messages__sort', { sorted: sortBy === 'parentTitle', ascending }]\"\n            type=\"button\" @click=\"sortBy = 'parentTitle'; ascending = !ascending\">\n            Родительская категория\n          </button>\n        </td>\n        <td class=\"messages__body-column\">\n          <button\n            :class=\"['messages__sort', { sorted: sortBy === 'body', ascending }]\"\n            type=\"button\" @click=\"sortBy = 'body'; ascending = !ascending\">\n            Содержимое\n          </button>\n        </td>\n        <td></td>\n      </tr>\n      <tr is=\"MessageView\"\n          v-for=\"message in filteredMessages\"\n          :key=\"message.id\"\n          :is-change-disabled=\"false\"\n          :message=\"message\"\n          @edit=\"$router.push({ name: 'messageEdit', params: { id: `${message.id}` } })\"\n      />\n    </table>\n    <paginate\n      v-show=\"totalPages\"\n      v-model=\"page\"\n      :page-count=\"totalPages\"\n      :click-handler=\"getPage\"\n      prev-text=\"Пред.\"\n      next-text=\"След.\"\n      container-class=\"pagination\"\n      page-class=\"pagination__page\"\n    >\n    </paginate>\n  </div>\n</template>\n\n<script>\nimport { mapActions, mapState } from 'vuex';\nimport Paginate from 'vuejs-paginate';\nimport MessageView from '@/components/MessageView.vue';\nimport Message from '@/classes/Message';\nimport Filters from '@/components/Filters.vue';\nimport { compareBy } from '@/utils';\nimport Category from '@/classes/Category';\n\nexport default {\n  name: 'Messages',\n  components: {\n    MessageView,\n    Filters,\n    Paginate,\n  },\n  props: {\n    id: {\n      type: String,\n    },\n  },\n  data() {\n    return {\n      messages: [],\n      page: 0,\n      totalPages: 0,\n      title: '',\n      parentTitle: '',\n      messagesCount: null,\n      sortBy: 'title',\n      ascending: true,\n    };\n  },\n  computed: {\n    ...mapState({\n      category: state => state.category,\n    }),\n    filteredMessages() {\n      const { title, parentTitle, messagesCount } = this;\n      const normalizedTitle = title.toLowerCase();\n      const normalizedParent = parentTitle.toLowerCase();\n      let path;\n\n      // eslint-disable-next-line default-case\n      switch (this.sortBy) {\n        case 'title':\n          path = 'title';\n          break;\n        case 'parentTitle':\n          path = 'parent.title';\n          break;\n        case 'body':\n          path = 'body';\n          break;\n      }\n\n      return this.messages.filter((c) => {\n        let res = true;\n\n        if (normalizedTitle) {\n          res = c.title.toLowerCase().includes(normalizedTitle);\n        }\n        if (normalizedParent) {\n          res = res && c.category && c.category.title.toLowerCase().includes(normalizedParent);\n        }\n        if (typeof messagesCount === 'number') {\n          res = res && (c.messages.size === messagesCount);\n        }\n        return res;\n      }).sort((a, b) => (this.ascending ? compareBy(a, b, path) : compareBy(b, a, path)));\n    },\n  },\n  created() {\n    if (this.id) {\n      Category.getById({ id: this.id })\n        .then((res) => {\n          this.setCategory(new Category(res));\n          this.getCategoryMessages();\n        });\n    } else {\n      this.getMessages();\n    }\n  },\n  methods: {\n    ...mapActions([\n      'setCategory',\n    ]),\n    getCategoryMessages(p) {\n      const categoryId = this.category.id;\n      if (!categoryId) {\n        return;\n      }\n      Message.getMessagesOf({ page: p, categoryId })\n        .then(({ data, totalPages, page }) => {\n          this.messages = data.map((d) => {\n            // eslint-disable-next-line no-param-reassign\n            d.category = Object.assign({}, this.category);\n            return new Message(d);\n          });\n          this.totalPages = totalPages;\n          this.page = page;\n        });\n    },\n    getMessages(page) {\n      Message.get({ page })\n      // eslint-disable-next-line no-shadow\n        .then(({ data, totalPages, page }) => {\n          this.messages = data.map(d => new Message(d));\n          this.totalPages = totalPages;\n          this.page = page;\n          const categoriesIds = data.map(m => m.category && m.category.id);\n\n          return Category.get({\n            conditions: ['id', 'IN', [...new Set(categoriesIds)]],\n          });\n        })\n        .then(({ data }) => {\n          this.messages.forEach((m, index) => {\n            const category = data.find(cat => cat.id === m.category.id);\n            this.$set(this.messages, index, new Message(Object.assign({}, m, { category })));\n          });\n        });\n    },\n    getPage(page) {\n      if (this.id) {\n        this.getCategoryMessages(page);\n      } else {\n        this.getMessages(page);\n      }\n    },\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n  @import \"../assets/styles/variables\";\n  .messages {\n    &__title {\n      overflow: hidden;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n    }\n    &__table {\n      width: 100%;\n      margin-top: 20px;\n      border-collapse: collapse;\n    }\n    &__head {\n      color: @text-color;\n      td {\n        padding: 10px 4px;\n      }\n    }\n    &__sort {\n      border: none;\n      &.sorted:after {\n        display: inline-block;\n        width: 10px;\n        height: 10px;\n        margin-left: 5px;\n        content: '';\n        background: url('../assets/images/angle.svg') right center/10px no-repeat;\n      }\n      &.ascending {\n        &:after {\n          transform: rotate(180deg);\n        }\n      }\n    }\n    &__body-column {\n      display: none;\n      @media screen and (min-width: @tablet) {\n        display: table-cell;\n      }\n    }\n    .filters {\n      margin-top: 30px;\n    }\n  }\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Messages.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Messages.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Messages.vue?vue&type=template&id=26efb2de&scoped=true&\"\nimport script from \"./Messages.vue?vue&type=script&lang=js&\"\nexport * from \"./Messages.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Messages.vue?vue&type=style&index=0&id=26efb2de&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"26efb2de\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"message-edit container\"},[(_vm.isEditing)?_c('h2',[_vm._v(_vm._s(_vm.id === '0'? 'Создание' : 'Редактирование')+\" сообщения\")]):_c('h2',[_vm._v(\"Сообщение\")]),(_vm.message)?_c('h1',{staticClass:\"message-edit__page-title\"},[_vm._v(_vm._s(_vm.message.title))]):_vm._e(),_c('div',{staticClass:\"header\"},[(_vm.message && _vm.message.category && (_vm.id !== '0'))?_c('router-link',{attrs:{\"to\":{ name: 'categoryMessages', params: { id: (\"\" + (_vm.message.category.id)) } }}},[_vm._v(\"\\n      К сообщениям категории\\n    \")]):_vm._e()],1),_c('div',{staticClass:\"message-edit__title\"},[_c('label',[_c('div',[_vm._v(\"Название\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.title),expression:\"title\"}],staticClass:\"message-edit__input\",attrs:{\"disabled\":!_vm.isEditing,\"type\":\"text\"},domProps:{\"value\":(_vm.title)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.title=$event.target.value}}}),_c('div',{class:['error', { visible: _vm.$v && _vm.$v.title && _vm.$v.title.$invalid }]},[_vm._v(\"\\n        Слишком длинное название\\n      \")])])]),_c('div',{staticClass:\"message-edit__parent\"},[(_vm.isEditing)?[_c('SearchSelect',{attrs:{\"searching-value\":_vm.parentTitle,\"searching-prop\":\"title\",\"options\":_vm.parents,\"required\":false,\"label\":\"Категория\",\"placeholder\":\"Название\"},on:{\"input\":_vm.onInputParent,\"blur\":_vm.onBlur,\"select\":_vm.onSelectParent,\"error\":function($event){_vm.parentError = $event}},scopedSlots:_vm._u([{key:\"default\",fn:function(slotProps){return [_c('div',[_vm._v(\"\\n            \"+_vm._s(slotProps.option.title)+\"\\n          \")])]}}],null,false,227483608)}),_c('div',{class:[ 'error', { visible: !!_vm.parentError } ]},[_vm._v(_vm._s(_vm.parentError))])]:[_c('label',[_c('div',[_vm._v(\"Категория\")]),(_vm.message && _vm.message.category)?_c('input',{attrs:{\"disabled\":\"\"},domProps:{\"value\":_vm.message.category.title}}):_vm._e()])]],2),_c('div',{staticClass:\"message-edit__text\"},[_c('label',[_c('div',[_vm._v(\"Текст\")]),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.body),expression:\"body\"}],staticClass:\"message-edit__textarea\",attrs:{\"disabled\":!_vm.isEditing},domProps:{\"value\":(_vm.body)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.body=$event.target.value}}})])]),_c('div',{staticClass:\"message-edit__buttons\"},[(_vm.isEditing)?[_c('button',{staticClass:\"message-edit__save\",attrs:{\"disabled\":!!_vm.parentError,\"type\":\"button\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.debouncedSave($event)}}},[_vm._v(\"\\n        Сохранить\\n      \")]),(_vm.id !== '0')?_c('button',{staticClass:\"message-edit__save\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){$event.stopPropagation();_vm.isModalVisible = true}}},[_vm._v(\"\\n        Удалить\\n      \")]):_vm._e(),_c('button',{staticClass:\"message-edit__cancel\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.onCancel($event)}}})]:_c('button',{staticClass:\"message-edit__save\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){$event.stopPropagation();_vm.isEditing = true}}},[_vm._v(\"\\n      Изменить\\n    \")])],2),_c('simple-modal',{staticClass:\"modal\",attrs:{\"size\":\"small\",\"title\":\"Действительно удалить?\"},model:{value:(_vm.isModalVisible),callback:function ($$v) {_vm.isModalVisible=$$v},expression:\"isModalVisible\"}},[_c('template',{slot:\"body\"},[_c('div',[_vm._v(\"Пожалуйста, подтвердите удаление\")]),_c('div',{staticClass:\"modal__buttons\"},[_c('button',{attrs:{\"type\":\"button\"},on:{\"click\":_vm.debouncedDelete}},[_vm._v(\"Удалить\")])])])],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"message-edit container\">\n    <h2 v-if=\"isEditing\">{{ id === '0'? 'Создание' : 'Редактирование' }} сообщения</h2>\n    <h2 v-else >Сообщение</h2>\n    <h1 v-if=\"message\" class=\"message-edit__page-title\">{{ message.title }}</h1>\n    <div class=\"header\">\n      <router-link\n        v-if=\"message && message.category && (id !== '0')\"\n        :to=\"{ name: 'categoryMessages', params: { id: `${message.category.id}` } }\"\n      >\n        К сообщениям категории\n      </router-link>\n    </div>\n    <div class=\"message-edit__title\">\n      <label>\n        <div>Название</div>\n        <input\n          class=\"message-edit__input\"\n          v-model=\"title\"\n          :disabled=\"!isEditing\"\n          type=\"text\">\n        <div :class=\"['error', { visible: $v && $v.title && $v.title.$invalid }]\">\n          Слишком длинное название\n        </div>\n      </label>\n    </div>\n    <div class=\"message-edit__parent\">\n      <template v-if=\"isEditing\">\n        <SearchSelect\n          :searching-value=\"parentTitle\"\n          searching-prop=\"title\"\n          :options=\"parents\"\n          :required=\"false\"\n          label=\"Категория\"\n          placeholder=\"Название\"\n          @input=\"onInputParent\"\n          @blur=\"onBlur\"\n          @select=\"onSelectParent\"\n          @error=\"parentError = $event\"\n        >\n          <template v-slot:default=\"slotProps\">\n            <div>\n              {{ slotProps.option.title }}\n            </div>\n          </template>\n        </SearchSelect>\n        <div :class=\"[ 'error', { visible: !!parentError } ]\" >{{ parentError }}</div>\n      </template>\n      <template v-else>\n        <label>\n          <div>Категория</div>\n          <input v-if=\"message && message.category\" :value=\"message.category.title\" disabled/>\n        </label>\n      </template>\n    </div>\n    <div class=\"message-edit__text\">\n      <label>\n        <div>Текст</div>\n        <textarea\n          class=\"message-edit__textarea\"\n          v-model=\"body\"\n          :disabled=\"!isEditing\"\n        ></textarea>\n      </label>\n    </div>\n    <div class=\"message-edit__buttons\">\n      <template v-if=\"isEditing\">\n        <button\n          class=\"message-edit__save\"\n          :disabled=\"!!parentError\"\n          type=\"button\"\n          @click.stop=\"debouncedSave\"\n        >\n          Сохранить\n        </button>\n        <button\n          v-if=\"id !== '0'\"\n          class=\"message-edit__save\"\n          type=\"button\"\n          @click.stop=\"isModalVisible = true\"\n        >\n          Удалить\n        </button>\n        <button class=\"message-edit__cancel\"  type=\"button\" @click.stop=\"onCancel\">\n        </button>\n      </template>\n      <button\n        v-else\n        class=\"message-edit__save\"\n        type=\"button\"\n        @click.stop=\"isEditing = true\"\n      >\n        Изменить\n      </button>\n    </div>\n    <simple-modal\n      v-model=\"isModalVisible\"\n      size=\"small\"\n      title=\"Действительно удалить?\"\n      class=\"modal\">\n      <template slot=\"body\">\n        <div>Пожалуйста, подтвердите удаление</div>\n        <div class=\"modal__buttons\">\n          <button type=\"button\" @click=\"debouncedDelete\">Удалить</button>\n        </div>\n      </template>\n    </simple-modal>\n  </div>\n</template>\n\n<script>\nimport { debounce } from 'lodash';\nimport SimpleModal from 'simple-modal-vue';\nimport { maxLength } from 'vuelidate/lib/validators';\nimport SearchSelect from '@/components/SearchSelect.vue';\nimport searchCategory from '@/mixins/searchCategory';\nimport Category from '@/classes/Category';\nimport Message from '@/classes/Message';\n\nexport default {\n  props: {\n    id: {\n      type: String,\n      required: true,\n    },\n  },\n  mixins: [searchCategory],\n  components: { SearchSelect, SimpleModal },\n  validations() {\n    return {\n      title: {\n        maxLength: maxLength(1024),\n      },\n    };\n  },\n  data() {\n    return {\n      title: '',\n      body: '',\n      category: '',\n      message: null,\n      isModalVisible: false,\n      isEditing: true,\n    };\n  },\n  computed: {\n    saveDisabled() {\n      if (!this.$v) {\n        return true;\n      }\n      const { $v } = this;\n\n      return ($v && $v.title && $v.title.$invalid) || !!this.parentError;\n    },\n  },\n  created() {\n    this.debouncedSave = debounce(this.saveMessage, 300);\n    this.debouncedDelete = debounce(this.deleteMessage, 300);\n  },\n  methods: {\n    init() {\n      Message.getById({ id: this.id })\n        .then((res) => {\n          this.message = new Message(res);\n          const {\n            title, category, body,\n          } = this.message;\n          this.title = title;\n          this.body = body;\n\n          if (category) {\n            this.getParent();\n          } else {\n            this.parent = null;\n            this.parentTitle = '';\n          }\n        });\n    },\n    deleteMessage() {\n      this.message.delete()\n        .then(() => {\n          this.isModalVisible = false;\n          this.$router.go(-1);\n        });\n    },\n    getParent() {\n      if (!this.message || !this.message.category) {\n        return;\n      }\n      Category.getById({ id: this.message.category.id })\n        .then((res) => {\n          this.parent = new Category(res);\n          this.parentTitle = this.parent.title;\n        });\n    },\n    onCancel() {\n      this.$router.go(-1);\n    },\n    saveMessage() {\n      const {\n        id, title, parent, body, message,\n      } = this;\n      const categoryId = parent && parent.id;\n      const savingData = {\n        id,\n        title,\n        body,\n      };\n\n      savingData.category = { id: categoryId };\n      if (message.id) {\n        message.update(savingData)\n          .then(() => {\n            this.isEditing = false;\n            message.category = parent;\n          });\n        return;\n      }\n\n      message.create(savingData)\n        .then((res) => {\n          const primaryKey = res['Primary key'];\n          message.id = primaryKey && primaryKey.id;\n          this.isEditing = false;\n          message.category = parent;\n          this.$router.replace({\n            name: 'messageEdit',\n            params: {\n              id: `${primaryKey.id}`,\n            },\n          });\n        });\n    },\n    searchParent(title) {\n      if (!title) {\n        return;\n      }\n      Category.getByTitle({ title }).then((res) => {\n        this.parents = res;\n      });\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"less\">\n  .message-edit {\n    input,\n    textarea {\n      margin-top: 5px;\n    }\n    &__title {\n      margin-top: 20px;\n    }\n    &__input {\n      width: 100%;\n      background-color:  #fff;\n    }\n    &__parent {\n      margin-top: 20px;\n      text-align: left;\n    }\n    &__text {\n      margin-top: 20px;\n    }\n    &__textarea {\n      width: 100%;\n      height: 400px;\n      max-height: 55vh;\n    }\n    &__buttons {\n      margin-top: 20px;\n      width: 200px;\n      button {\n        margin: 0 4px;\n      }\n    }\n    &__cancel {\n      width: 20px;\n      height: 20px;\n      background: url('../assets/images/close.svg') center/14px no-repeat #fff;\n    }\n    .error {\n      opacity: 0;\n      height: 14px;\n      color: transparent;\n      font-size: 12px;\n      &.visible {\n        opacity: 1;\n        color: red;\n      }\n    }\n    .search-select {\n      text-align: left;\n    }\n  }\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MessageEdit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MessageEdit.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MessageEdit.vue?vue&type=template&id=21f701de&scoped=true&\"\nimport script from \"./MessageEdit.vue?vue&type=script&lang=js&\"\nexport * from \"./MessageEdit.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MessageEdit.vue?vue&type=style&index=0&id=21f701de&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"21f701de\",\n  null\n  \n)\n\nexport default component.exports","import VueRouter from 'vue-router';\nimport Vue from 'vue';\nimport Categories from '@/pages/Categories.vue';\nimport CategoryEdit from '@/pages/CategoryEdit.vue';\nimport Messages from '@/pages/Messages.vue';\nimport MessageEdit from '@/pages/MessageEdit.vue';\n\nVue.use(VueRouter);\n\nexport default new VueRouter({\n  routes: [\n    { path: '/', name: 'home', component: Categories },\n    { path: '/categories', name: 'categories', component: Categories },\n    {\n      path: '/categoryMessages/:id', name: 'categoryMessages', component: Messages, props: true,\n    },\n    {\n      path: '/categoryEdit/:id', name: 'categoryEdit', component: CategoryEdit, props: true,\n    },\n    { path: '/messages', name: 'messages', component: Messages },\n    {\n      path: '/messageEdit/:id', name: 'messageEdit', component: MessageEdit, props: true,\n    },\n  ],\n});\n","import Vue from 'vue';\nimport Vuelidate from 'vuelidate';\nimport App from './App.vue';\nimport store from './store';\nimport router from './router';\n\nVue.config.productionTip = false;\nVue.use(Vuelidate);\n\nnew Vue({\n  store,\n  router,\n  render(h) { return h(App); },\n}).$mount('#app');\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=less&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CategoriesTable.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CategoriesTable.vue?vue&type=style&index=0&lang=less&\""],"sourceRoot":""}